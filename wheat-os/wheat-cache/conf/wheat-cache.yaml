version: 'v1.0'

env: 'dev'

storage:
  host: '0.0.0.0'
  port: 5890
  timeOut: 2  # second
  
  aof-codec: "b16"  # 目前只实现了 b16 编码方案。
  aof-path: "/etc/wheat-cache/wheat.aof"
  aof-flush-time: 5 # second , 每 5 秒刷新缓冲区的内容到磁盘。
  aof-check-time: 1 # 每 1 second 执行一次 io 检查
  aof-check-freq: 20 # 在一个 aof-check-time 周期内，出现超过 aof-check-freq 的 IO 操作会刷新磁盘
  

# clearSize and maxSize must be Int
lruCache:
  clearSize: "512mb"
  maxSize: "1GB"
  eventDriverSize: 2000
  workTime: 1
  detachNum: 300


logPrint:
  stath: ["error"]


middleware-driver:
  driverCount: 1000
  middleConsumerCount: 5

# Register the message push type
# 在这里注册消息推送类型， 
plugins-control:

  # log-context: Logs generated by storage or gateway are pushed through this message
  # log-context: storage 或者 gateway 产生的日志通过这个消息推送
  log-context: [ "mock-plugins" ]

  # lru-clean-context: Lru is pushed through this message when data cleansing occurs
  # lru-clean-context: Lru 发生数据清理时通过这个消息推送
  lru-clean-context: ["mock-plugins"]

  # lru-ttl-context: Lru is pushed through this message when data expires
  # lru-ttl-context: Lru 发生数据过期时通过这个消息推送
  lru-ttl-context: ["mock-plugins"]

  # plugins-info-context：All plugins information for the current project
  # plugins-info-context: 当前项目全部的插件信息
  plugins-infos-context: ["mock-plugins"]

gateway:
  host: '0.0.0.0'
  port: 5891
  target: ["127.0.0.1:5890"]

mock-plugin:
  pprof-addr: "127.0.0.1:8000"  