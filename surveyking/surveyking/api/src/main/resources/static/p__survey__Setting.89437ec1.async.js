(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[1117],{8212:function(Me,$,t){"use strict";t.d($,{Z:function(){return le}});var h=t(28991),r=t(67294),n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},I=n,Y=t(27029),U=function(pe,X){return r.createElement(Y.Z,(0,h.Z)((0,h.Z)({},pe),{},{ref:X,icon:I}))};U.displayName="EditOutlined";var le=r.forwardRef(U)},70347:function(){},90586:function(Me,$,t){"use strict";t.d($,{P:function(){return ce}});var h=t(11849),r=t(93224),n=t(2299),I=t(67294),Y=t(30381),U=t.n(Y),le=t(85893),ce=function(X){var Ie=X.children,V=X.syncDisplay,Te=X.isMoment,K=(0,r.Z)(X,["children","syncDisplay","isMoment"]),A=(0,I.useMemo)(function(){return(0,n.$j)(function(F){var H=F.value,D=F.onChange,W=H;return Te&&H&&(W=U()(H)),I.cloneElement(Ie,{value:W,onChange:function(ae){D(ae)}})},(0,n.jM)(function(F,H){return{value:F.value,onChange:function(W){U().isMoment(W)?H.onInput(W.valueOf()):H.onInput(W)}}}))},[]);return(0,le.jsx)(n.gN,(0,h.Z)((0,h.Z)({},K),{},{component:[A,X],reactions:[function(F){if(V)if(typeof V=="string"){var H=F.query(F.path.parent().concat(V)).get("value");H?F.display="visible":F.display="none"}else typeof V=="object"&&Object.keys(V).forEach(function(D){var W=F.query(F.path.parent().concat(D)).get("value");V[D].includes(W)?F.display="visible":F.display="none"})}]}))};$.Z=ce},17758:function(Me,$,t){"use strict";t.d($,{cM:function(){return ve},Bn:function(){return fe},ZP:function(){return Ae}});var h=t(2824),r=t(20310),n=t(67294),I=t(71167),Y=t.n(I),U=t(29163),le=t(94184),ce=t.n(le),pe=t(11849),X=t(71194),Ie=t(50146),V=t(49111),Te=t(19650),K=t(57663),A=t(71577),F=t(93224),H=t(76095),D=t.n(H),W=t(85551),Ee=t.n(W),ae=t(69610),a=t(54941),b=t(63543),O=t(94663),e=t(43028),q=t(5869),Ce=D().import("blots/block"),Q=function(x){(0,e.Z)(l,x);var d=(0,q.Z)(l);function l(){return(0,ae.Z)(this,l),d.apply(this,arguments)}return(0,a.Z)(l,[{key:"deleteAt",value:function(C,m){(0,b.Z)((0,O.Z)(l.prototype),"deleteAt",this).call(this,C,m),this.cache={}}}],[{key:"create",value:function(C){var m=(0,b.Z)((0,O.Z)(l),"create",this).call(this,C);if(C===!0)return m;var B=document.createElement("img");return B.setAttribute("src",C),m.appendChild(B),m}},{key:"value",value:function(C){var m=C.dataset,B=m.src,o=m.custom;return{src:B,custom:o}}}]),l}(Ce);Q.blotName="imageBlot",Q.className="image-uploading",Q.tagName="span",D().register({"formats/imageBlot":Q});var ie=Q,oe=function(){function x(d,l){(0,ae.Z)(this,x),this.quill=d,this.options=l,this.range=null,typeof this.options.upload!="function"&&console.warn("[Missing config] upload function that returns a promise is required");var u=this.quill.getModule("toolbar");u.addHandler("image",this.selectLocalImage.bind(this)),this.handleDrop=this.handleDrop.bind(this),this.handlePaste=this.handlePaste.bind(this),this.quill.root.addEventListener("drop",this.handleDrop,!1),this.quill.root.addEventListener("paste",this.handlePaste,!1)}return(0,a.Z)(x,[{key:"selectLocalImage",value:function(){var l=this;this.range=this.quill.getSelection(),this.fileHolder=document.createElement("input"),this.fileHolder.setAttribute("type","file"),this.fileHolder.setAttribute("accept","image/*"),this.fileHolder.setAttribute("style","visibility:hidden"),this.fileHolder.onchange=this.fileChanged.bind(this),document.body.appendChild(this.fileHolder),this.fileHolder.click(),window.requestAnimationFrame(function(){document.body.removeChild(l.fileHolder)})}},{key:"handleDrop",value:function(l){var u=this;if(l.stopPropagation(),l.preventDefault(),l.dataTransfer&&l.dataTransfer.files&&l.dataTransfer.files.length){if(document.caretRangeFromPoint){var C=document.getSelection(),m=document.caretRangeFromPoint(l.clientX,l.clientY);C&&m&&C.setBaseAndExtent(m.startContainer,m.startOffset,m.startContainer,m.startOffset)}else{var B=document.getSelection(),o=document.caretPositionFromPoint(l.clientX,l.clientY);B&&o&&B.setBaseAndExtent(o.offsetNode,o.offset,o.offsetNode,o.offset)}this.range=this.quill.getSelection();var N=l.dataTransfer.files[0];setTimeout(function(){u.range=u.quill.getSelection(),u.readAndUploadFile(N)},0)}}},{key:"handlePaste",value:function(l){var u=this,C=l.clipboardData||window.clipboardData;if(C&&(C.items||C.files))for(var m=C.items||C.files,B=/^image\/(jpe?g|gif|png|svg|webp)$/i,o=0;o<m.length;o++)B.test(m[o].type)&&function(){var N=m[o].getAsFile?m[o].getAsFile():m[o];N&&(u.range=u.quill.getSelection(),l.preventDefault(),setTimeout(function(){u.range=u.quill.getSelection(),u.readAndUploadFile(N)},0))}()}},{key:"readAndUploadFile",value:function(l){var u=this,C=!1,m=new FileReader;m.addEventListener("load",function(){if(!C){var B=m.result;u.insertBase64Image(B)}},!1),l&&m.readAsDataURL(l),this.options.upload(l).then(function(B){u.insertToEditor(B)},function(B){C=!0,u.removeBase64Image(),console.warn(B)})}},{key:"fileChanged",value:function(){var l=this.fileHolder.files[0];this.readAndUploadFile(l)}},{key:"insertBase64Image",value:function(l){var u=this.range;this.quill.insertEmbed(u.index,ie.blotName,"".concat(l),"user")}},{key:"insertToEditor",value:function(l){var u=this.range;this.quill.deleteText(u.index,3,"user"),console.log(u,l),this.quill.insertEmbed(u.index,"image","".concat(l)),u.index++,this.quill.setSelection(u,"user")}},{key:"removeBase64Image",value:function(){var l=this.range;this.quill.deleteText(l.index,3,"user")}}]),x}();window.ImageUploader=oe;var J=oe,ee=function(){function x(d,l){(0,ae.Z)(this,x),this.quill=d,this.options=l,this.container=document.querySelector(l.container),d.on("text-change",this.update.bind(this)),this.update()}return(0,a.Z)(x,[{key:"calculate",value:function(){var l=this.quill.getText();return this.options.unit==="word"?(l=l.trim(),l.length>0?l.split(/\s+/).length:0):l.length}},{key:"update",value:function(){var l=this.calculate(),u=this.options.unit;l!==1&&(u+="s")}}]),x}();I.Quill.register("modules/counter",ee);var de=t(68489),R=t(85893);D().register("modules/imageResize",Ee()),D().register("modules/imageUploader",J);var _=D().import("attributors/style/size");_.whitelist=["9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","26px","36px"],D().register(_,!0);var te=function(d){var l=(0,n.useRef)(null),u=(0,n.useRef)(),C=(0,n.useRef)();return(0,n.useEffect)(function(){return l.current&&(u.current=new(D())(l.current,{theme:"snow",formats:["size","color","background","header","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","formula","align","imageBlot"],modules:{counter:{container:"#counter",unit:"word"},imageResize:{parchment:D().import("parchment"),modules:["Resize","DisplaySize"]},imageUploader:{upload:function(B){return new Promise(function(o,N){de.hi.uploadImage(3,B).then(function(k){k.success&&o("/api/public/preview/".concat(k.data.id))}).catch(function(k){N("Upload failed"),console.error("Error:",k)})})}},toolbar:[[{size:["9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","26px","36px"]}],[{color:[]},{background:[]}],["bold","italic","underline","strike","blockquote"],[{align:""},{align:"center"},{align:"right"},{align:"justify"}],["link","image"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}]]}}),d.value&&u.current.setText(d.value),u.current.on("text-change",function(m,B,o){var N,k=(N=u.current)===null||N===void 0?void 0:N.root.innerHTML;k!==C.current&&d.onChange&&(d.onChange(k||""),C.current=k)})),function(){}},[]),(0,n.useEffect)(function(){var m,B=C.current,o=(m=d.value)!==null&&m!==void 0?m:"";if(o!==B){var N;C.current=o,(N=u.current)===null||N===void 0||N.setContents(u.current.clipboard.convert(o))}},[d.value]),(0,R.jsx)("div",{className:"custom-quill-editor",children:(0,R.jsx)("div",{ref:l})})},ve=function(d){var l=d.onChange,u=d.onClose,C=d.value,m=(0,F.Z)(d,["onChange","onClose","value"]),B=(0,n.useState)(C),o=(0,h.Z)(B,2),N=o[0],k=o[1];return(0,R.jsx)(Ie.Z,(0,pe.Z)((0,pe.Z)({visible:!0,onCancel:u,footer:!1,maskClosable:!1,closable:!1,width:650},m),{},{children:(0,R.jsxs)("div",{children:[(0,R.jsx)(te,{value:N,onChange:function(w){k(w)}}),(0,R.jsx)("div",{style:{textAlign:"right",marginTop:20},children:(0,R.jsxs)(Te.Z,{children:[(0,R.jsx)(A.Z,{onClick:u,children:"\u53D6\u6D88"}),(0,R.jsx)(A.Z,{type:"primary",onClick:function(){return l(N)},children:"\u4FDD\u5B58"})]})})]})}))},Se=t(8166),qe;window.katex=Se.Z;var Ze=I.Quill.import("attributors/style/size");Ze.whitelist=["9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","26px","36px"],I.Quill.register(Ze,!0);var Ve=I.Quill.import("modules/clipboard"),ye=I.Quill.import("delta"),Fe=null,Be=U.ZP.div(qe||(qe=(0,r.Z)([`
  box-sizing: border-box;
  margin: 0;
  font-variant: tabular-nums;
  list-style: none;
  font-feature-settings: 'tnum';
  width: 100%;
  padding: `,`;
  color: rgba(0, 0, 0, 0.65);

  border: `,`;
  transition: all 0.3s;

  &.is-focus {
    border: `,`;
    border-right-width: 1px !important;
    outline: 0;
  }
  &.not-focus:hover {
    border: dashed 1px #aaaaaa !important;
    border-right-width: 1px !important;
  }

  .ql-editor {
    padding: 0;
    font-size: `,`;
    text-align: `,`;
  }

  .ql-bubble .ql-tooltip {
    z-index: 999;
    background-color: #fff;
    border: 1px solid #eaeaea;
    border-radius: 2px;
    box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.1);
    cursor: pointer;
  }

  .ql-toolbar {
    box-sizing: border-box;
    font-family: 'Helvetica Neue', 'Helvetica', 'Arial', sans-serif;
    /* border: 1px solid #ccc; */
  }

  .ql-bubble .ql-picker {
    position: relative;
    display: inline-block;
    float: left;
    height: 24px;
    color: #444;
    font-weight: 500;
    font-size: 14px;
    vertical-align: middle;
  }

  .ql-bubble .ql-stroke {
    fill: none;
    stroke: #444;
    stroke-linecap: round;
    stroke-linejoin: round;
    stroke-width: 2;
  }

  .ql-bubble.ql-toolbar button:hover .ql-stroke,
  .ql-bubble .ql-toolbar button:hover .ql-stroke,
  .ql-bubble.ql-toolbar button:focus .ql-stroke,
  .ql-bubble .ql-toolbar button:focus .ql-stroke,
  .ql-bubble.ql-toolbar button.ql-active .ql-stroke,
  .ql-bubble .ql-toolbar button.ql-active .ql-stroke,
  .ql-bubble.ql-toolbar .ql-picker-label:hover .ql-stroke,
  .ql-bubble .ql-toolbar .ql-picker-label:hover .ql-stroke,
  .ql-bubble.ql-toolbar .ql-picker-label.ql-active .ql-stroke,
  .ql-bubble .ql-toolbar .ql-picker-label.ql-active .ql-stroke,
  .ql-bubble.ql-toolbar .ql-picker-item:hover .ql-stroke,
  .ql-bubble .ql-toolbar .ql-picker-item:hover .ql-stroke,
  .ql-bubble.ql-toolbar .ql-picker-item.ql-selected .ql-stroke,
  .ql-bubble .ql-toolbar .ql-picker-item.ql-selected .ql-stroke,
  .ql-bubble.ql-toolbar button:hover .ql-stroke-miter,
  .ql-bubble .ql-toolbar button:hover .ql-stroke-miter,
  .ql-bubble.ql-toolbar button:focus .ql-stroke-miter,
  .ql-bubble .ql-toolbar button:focus .ql-stroke-miter,
  .ql-bubble.ql-toolbar button.ql-active .ql-stroke-miter,
  .ql-bubble .ql-toolbar button.ql-active .ql-stroke-miter,
  .ql-bubble.ql-toolbar .ql-picker-label:hover .ql-stroke-miter,
  .ql-bubble .ql-toolbar .ql-picker-label:hover .ql-stroke-miter,
  .ql-bubble.ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,
  .ql-bubble .ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,
  .ql-bubble.ql-toolbar .ql-picker-item:hover .ql-stroke-miter,
  .ql-bubble .ql-toolbar .ql-picker-item:hover .ql-stroke-miter,
  .ql-bubble.ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter,
  .ql-bubble .ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter {
    stroke: #2196f3;
  }

  .ql-bubble.ql-toolbar button:hover,
  .ql-bubble .ql-toolbar button:hover,
  .ql-bubble.ql-toolbar button:focus,
  .ql-bubble .ql-toolbar button:focus,
  .ql-bubble.ql-toolbar button.ql-active,
  .ql-bubble .ql-toolbar button.ql-active,
  .ql-bubble.ql-toolbar .ql-picker-label:hover,
  .ql-bubble .ql-toolbar .ql-picker-label:hover,
  .ql-bubble.ql-toolbar .ql-picker-label.ql-active,
  .ql-bubble .ql-toolbar .ql-picker-label.ql-active,
  .ql-bubble.ql-toolbar .ql-picker-item:hover,
  .ql-bubble .ql-toolbar .ql-picker-item:hover,
  .ql-bubble.ql-toolbar .ql-picker-item.ql-selected,
  .ql-bubble .ql-toolbar .ql-picker-item.ql-selected {
    color: #2196f3;
  }

  .ql-toolbar.ql-bubble .ql-picker.ql-expanded .ql-picker-options {
    border-color: #ccc;
  }
  .ql-bubble .ql-picker.ql-expanded .ql-picker-options {
    top: 100%;
    z-index: 1;
    display: block;
    margin-top: -1px;
    border: 1px solid #cccccc;
  }
  .ql-toolbar.ql-bubble .ql-picker-options {
    border: 1px solid transparent;
    box-shadow: rgba(0, 0, 0, 0.2) 0 2px 8px;
  }
  .ql-bubble .ql-picker-options {
    position: absolute;
    display: none;
    min-width: 100%;
    height: 200px;
    padding: 4px 2px;
    overflow-y: auto;
    white-space: nowrap;
    background-color: #fff;
  }

  .ql-bubble .ql-tooltip:not(.ql-flip) .ql-tooltip-arrow {
    top: -6px;
    border-bottom: 6px solid #fff;
  }

  .ql-bubble .ql-toolbar .ql-formats {
    margin: 3px 6px 3px 0px;
  }

  .ql-bubble .ql-toolbar .ql-formats:first-child {
    margin-left: 1px;
  }

  .ql-bubble.ql-toolbar button:hover .ql-fill,
  .ql-bubble .ql-toolbar button:hover .ql-fill,
  .ql-bubble.ql-toolbar button:focus .ql-fill,
  .ql-bubble .ql-toolbar button:focus .ql-fill,
  .ql-bubble.ql-toolbar button.ql-active .ql-fill,
  .ql-bubble .ql-toolbar button.ql-active .ql-fill,
  .ql-bubble.ql-toolbar .ql-picker-label:hover .ql-fill,
  .ql-bubble .ql-toolbar .ql-picker-label:hover .ql-fill,
  .ql-bubble.ql-toolbar .ql-picker-label.ql-active .ql-fill,
  .ql-bubble .ql-toolbar .ql-picker-label.ql-active .ql-fill,
  .ql-bubble.ql-toolbar .ql-picker-item:hover .ql-fill,
  .ql-bubble .ql-toolbar .ql-picker-item:hover .ql-fill,
  .ql-bubble.ql-toolbar .ql-picker-item.ql-selected .ql-fill,
  .ql-bubble .ql-toolbar .ql-picker-item.ql-selected .ql-fill,
  .ql-bubble.ql-toolbar button:hover .ql-stroke.ql-fill,
  .ql-bubble .ql-toolbar button:hover .ql-stroke.ql-fill,
  .ql-bubble.ql-toolbar button:focus .ql-stroke.ql-fill,
  .ql-bubble .ql-toolbar button:focus .ql-stroke.ql-fill,
  .ql-bubble.ql-toolbar button.ql-active .ql-stroke.ql-fill,
  .ql-bubble .ql-toolbar button.ql-active .ql-stroke.ql-fill,
  .ql-bubble.ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,
  .ql-bubble .ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,
  .ql-bubble.ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,
  .ql-bubble .ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,
  .ql-bubble.ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,
  .ql-bubble .ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,
  .ql-bubble.ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill,
  .ql-bubble .ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill {
    fill: #2196f3;
  }
  .ql-bubble .ql-picker.ql-size {
    width: 60px;
  }
  .ql-bubble .ql-picker.ql-size .ql-picker-item[data-value='9px']::before {
    font-size: 9px !important;
    content: '9';
  }
  .ql-bubble .ql-picker.ql-size .ql-picker-item[data-value='10px']::before {
    font-size: 10px !important;
    content: '10';
  }
  .ql-bubble .ql-picker.ql-size .ql-picker-item[data-value='11px']::before {
    font-size: 11px !important;
    content: '11';
  }
  .ql-bubble .ql-picker.ql-size .ql-picker-item[data-value='12px']::before {
    font-size: 12px !important;
    content: '12';
  }
  .ql-bubble .ql-picker.ql-size .ql-picker-item[data-value='14px']::before {
    font-size: 14px !important;
    content: '14';
  }
  .ql-bubble .ql-picker.ql-size .ql-picker-item[data-value='16px']::before {
    font-size: 16px !important;
    content: '16';
  }
  .ql-bubble .ql-picker.ql-size .ql-picker-item[data-value='18px']::before {
    font-size: 18px !important;
    content: '18';
  }
  .ql-bubble .ql-picker.ql-size .ql-picker-item[data-value='20px']::before {
    font-size: 20px !important;
    content: '20';
  }
  .ql-bubble .ql-picker.ql-size .ql-picker-item[data-value='22px']::before {
    font-size: 22px !important;
    content: '22';
  }
  .ql-bubble .ql-picker.ql-size .ql-picker-item[data-value='24px']::before {
    font-size: 24px !important;
    content: '24';
  }
  .ql-bubble .ql-picker.ql-size .ql-picker-item[data-value='26px']::before {
    font-size: 26px !important;
    content: '26';
  }
  .ql-bubble .ql-picker.ql-size .ql-picker-item[data-value='36px']::before {
    font-size: 36px !important;
    content: '36';
  }
  .ql-bubble .ql-picker.ql-size .ql-picker-label::before,
  .ql-bubble .ql-picker.ql-size .ql-picker-item::before {
    font-size: 14px !important;
    content: '14px';
  }
`])),function(x){return x.size==="middle"?"6px 11px 4px 11px":x.size==="small"?"2px 2px 0px 5px":"14px 11px"},function(x){return x.hasError?"1px solid #ff4d4f":"1px solid transparent"},function(x){return x.hasError?"1px solid #ff4d4f !important":"1px solid #1890ff !important"},function(x){return x.innerStyle&&x.innerStyle.fontSize},function(x){return x.innerStyle&&x.innerStyle.textAlign});function ne(x){return typeof x=="symbol"?"":x&&x.startsWith("<p")?x:"<p>".concat(x,"</p>")}var Pe=I.Quill.import("ui/icons");Pe.tags='<svg style="width:18px;height:18px;"  viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="512" height="512"><path d="M851.968 167.936l0 109.568-281.6 0 0 587.776-116.736 0 0-587.776-281.6 0 0-109.568 679.936 0z" p-id="3840"></path></svg>';var fe=function(d){var l=d.onChange,u=d.value,C=u===void 0?"":u,m=d.placeholder,B=d.style,o=d.className,N=d.bounds,k=(0,n.useState)(!1),Oe=(0,h.Z)(k,2),w=Oe[0],Re=Oe[1],ke=(0,n.useState)(!1),he=(0,h.Z)(ke,2),Ke=he[0],re=he[1],He=function(se){if(se.startsWith("<p>")){var ue=se.replace(/^<p>/,"").replace(/<\/p>$/,"");l(ue==="<br>"?"":ue)}else l(se)};function Le(){re(!0)}return(0,n.useEffect)(function(){setTimeout(function(){return Re(!1)},50)},[]),(0,R.jsxs)(Be,{style:B,className:ce()(o,{"is-focus":w,"not-focus":!w}),innerStyle:d.innerStyle,size:d.size,children:[Ke&&(0,R.jsx)(ve,{onClose:function(){return re(!1)},value:C,onChange:function(se){se&&He(se),re(!1)}}),(0,R.jsx)(Y(),{theme:"bubble",value:ne(C),onChange:He,style:{textAlign:"center"},bounds:N,onFocus:function(){Re(!0)},scrollingContainer:"body",className:o,onBlur:function(){Re(!1)},placeholder:m,modules:(0,n.useMemo)(function(){return{toolbar:{container:[[{size:["9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","26px","36px"]}],[{color:[]},{background:[]}],["bold","italic"],["clean","tags"]],handlers:{tags:Le}},clipboard:{matchVisual:!1}}},[])})]})},Ae=fe},9836:function(Me,$,t){"use strict";t.r($),t.d($,{Setting:function(){return et},default:function(){return St}});var h=t(2299),r=t(67294),n=(0,r.createContext)({});function I(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i=(0,r.useContext)(n),s=i.prefixCls;return s+v}var Y=t(58024),U=t(39144),le=t(77883),ce=t(85482),pe=t(14965),X=t(77121),Ie=t(77576),V=t(12028),Te=t(22385),K=t(31097),A=t(2824),F=t(34792),H=t(48086),D=t(28991),W={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 708c-22.1 0-40-17.9-40-40s17.9-40 40-40 40 17.9 40 40-17.9 40-40 40zm62.9-219.5a48.3 48.3 0 00-30.9 44.8V620c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8v-21.5c0-23.1 6.7-45.9 19.9-64.9 12.9-18.6 30.9-32.8 52.1-40.9 34-13.1 56-41.6 56-72.7 0-44.1-43.1-80-96-80s-96 35.9-96 80v7.6c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V420c0-39.3 17.2-76 48.4-103.3C430.4 290.4 470 276 512 276s81.6 14.5 111.6 40.7C654.8 344 672 380.7 672 420c0 57.8-38.1 109.8-97.1 132.5z"}}]},name:"question-circle",theme:"filled"},Ee=W,ae=t(27029),a=function(i,s){return r.createElement(ae.Z,(0,D.Z)((0,D.Z)({},i),{},{ref:s,icon:Ee}))};a.displayName="QuestionCircleFilled";var b=r.forwardRef(a),O=t(63185),e=t(85893),q=function(i){var s=i.name,p=i.children,c=function(S){return _jsx(_Checkbox,{checked:S.value,onChange:function(j){S.onChange(j.target.checked)},children:p})};return _jsx(Field,{name:s,component:[c]})},Ce=t(47673),Q=t(4107),ie=function(i){var s=i.name,p=i.children,c=i.style,g=i.display,S=function(j){return(0,e.jsx)(Q.Z,{value:j.value,style:c,onChange:function(L){j.onChange(L.target.value)},children:p})};return(0,e.jsx)(h.gN,{name:s,component:[S],display:g})},oe=t(57663),J=t(71577),ee=t(71194),de=t(50146),R=t(7354),_=t(54531),te=t(11628),ve=function(i){var s=i.value,p=i.onChange,c=(0,r.useState)(!1),g=(0,A.Z)(c,2),S=g[0],y=g[1],j=(0,te.IE)(),Z=(0,r.useRef)(null);return(0,e.jsxs)(e.Fragment,{children:[S&&(0,e.jsx)(de.Z,{visible:!0,onCancel:function(){return y(!1)},bodyStyle:{maxHeight:600,overflowY:"auto",padding:0},maskClosable:!1,width:650,onOk:function(){var T;p((0,_.ZN)((T=Z.current)===null||T===void 0?void 0:T.getValues())),y(!1)},children:j.schema?(0,e.jsx)(R.Z,{ref:Z,initialValues:s,schema:j.schema,footerVisible:!1,onSubmit:function(T){console.log(T)}}):"\u95EE\u5377\u4E3A\u7A7A"}),(0,e.jsx)(J.Z,{onClick:function(){return y(!0)},style:{marginLeft:10},type:"dashed",children:s?"\u70B9\u51FB\u4FEE\u6539":"\u70B9\u51FB\u8BBE\u7F6E"})]})},Se=function(i){var s=i.name,p=i.children;return(0,e.jsx)(h.gN,{name:s,component:[ve]})},qe=t(17758),Ze=function(i){var s=i.value,p=i.onChange,c=(0,r.useState)(!1),g=(0,A.Z)(c,2),S=g[0],y=g[1];return(0,e.jsxs)(e.Fragment,{children:[S&&(0,e.jsx)(qe.cM,{value:s,title:"\u63D0\u4EA4\u540E\u56FE\u6587\u5C55\u793A",width:750,onChange:function(Z){p(Z),y(!1)},onClose:function(){y(!1)}}),(0,e.jsx)(J.Z,{onClick:function(){return y(!0)},style:{marginLeft:10},type:"dashed",children:s?"\u70B9\u51FB\u4FEE\u6539":"\u70B9\u51FB\u8BBE\u7F6E"})]})},Ve=function(i){var s=i.name,p=i.children;return(0,e.jsx)(h.gN,{name:s,component:[Ze]})},ye=function(i){var s=i.name,p=function(g){return(0,e.jsx)(V.Z,{checked:g.value,onChange:function(y){g.onChange(y)}})};return(0,e.jsx)(h.gN,{name:s,component:[p]})},Fe=t(64031),Be=t(90586),ne=t(68489);H.default.config({duration:1,maxCount:1});var Pe=(0,h.Pi)(function(){var v,i,s,p,c=(0,te.IE)(),g=(0,r.useMemo)(function(){return(0,Fe.Np)({initialValues:c.setting,effects:function(){(0,Fe.Zj)("*",function(P){console.log(P.address.toString(),P.value);var G={},xe=G;P.path.forEach(function(ze,Zt){var tt={};Zt===P.path.length-1?xe[ze]=P.value:xe[ze]=tt,xe=tt}),ne.hi.updateSetting({id:c.id,settingKey:P.address.toString(),settingValue:P.value}).then(function(ze){ze.success&&H.default.info("\u4FDD\u5B58\u4E2D")})})}})},[c.setting]),S=(0,r.useState)(!!((v=c.setting)!==null&&v!==void 0&&v.answerSetting.password)),y=(0,A.Z)(S,2),j=y[0],Z=y[1],L=(0,r.useState)(!!((i=c.setting)!==null&&i!==void 0&&i.answerSetting.initialValues)),T=(0,A.Z)(L,2),z=T[0],M=T[1],De=(0,r.useState)(!!((s=c.setting)!==null&&s!==void 0&&s.answerSetting.endTime)),we=(0,A.Z)(De,2),ge=we[0],Qe=we[1],$e=(0,r.useState)(!!((p=c.setting)!==null&&p!==void 0&&p.answerSetting.maxAnswers)),Ne=(0,A.Z)($e,2),je=Ne[0],f=Ne[1];return(0,r.useEffect)(function(){var E;Z(!!((E=c.setting)!==null&&E!==void 0&&E.answerSetting.password))},[c.setting]),(0,r.useEffect)(function(){g.setFieldState("answerSetting.password",function(E){return E.display=j?"visible":"none"})},[j,g]),(0,r.useEffect)(function(){g.setFieldState("answerSetting.initialValues",function(E){return E.display=z?"visible":"none"})},[z,g]),(0,r.useEffect)(function(){g.setFieldState("answerSetting.endTime",function(E){return E.display=ge?"visible":"none"})},[ge,g]),(0,r.useEffect)(function(){g.setFieldState("answerSetting.maxAnswers",function(E){return E.display=je?"visible":"none"})},[je,g]),(0,e.jsx)(h.RV,{form:g,children:(0,e.jsx)(h.Wo,{name:"answerSetting",children:(0,e.jsx)("div",{children:(0,e.jsxs)(U.Z,{title:"\u586B\u5199\u8BBE\u7F6E",className:"answer-setting",children:[(0,e.jsxs)("div",{className:"setting-item",children:[(0,e.jsxs)("div",{className:"setting-item-switch",children:[(0,e.jsxs)("span",{children:["\u51ED\u5BC6\u7801\u586B\u5199",(0,e.jsx)(K.Z,{overlay:"\u53EA\u6709\u8F93\u5165\u5BC6\u7801\u624D\u80FD\u586B\u5199\u95EE\u5377",children:(0,e.jsx)(b,{className:"setting-prompt"})})]}),(0,e.jsx)(V.Z,{checked:j,onChange:function(P){Z(P)}})]}),(0,e.jsx)("div",{className:"setting-item-content",children:(0,e.jsx)(ie,{style:{width:200},name:"password"})})]}),(0,e.jsx)("div",{className:"setting-item",children:(0,e.jsxs)("div",{className:"setting-item-switch",children:[(0,e.jsxs)("span",{children:["\u5F00\u542F\u81EA\u52A8\u6682\u5B58",(0,e.jsx)(K.Z,{overlay:"\u52FE\u9009\u540E\uFF0C\u53EF\u4EE5\u81EA\u52A8\u4FDD\u5B58\u672C\u6B21\u672A\u63D0\u4EA4\u7684\u586B\u5199\u5185\u5BB9\uFF0C\u518D\u6B21\u6253\u5F00\u95EE\u5377\u53EF\u663E\u793A\u4E0A\u6B21\u672A\u63D0\u4EA4\u7684\u586B\u5199\u5185\u5BB9\u3002",children:(0,e.jsx)(b,{className:"setting-prompt"})})]}),(0,e.jsx)(ye,{name:"autoSave"})]})}),(0,e.jsx)("div",{className:"setting-item",children:(0,e.jsxs)("div",{className:"setting-item-switch",children:[(0,e.jsxs)("span",{children:["\u9700\u8981\u767B\u5F55",(0,e.jsx)(K.Z,{overlay:"\u52FE\u9009\u540E\uFF0C\u53EA\u6709\u767B\u5F55\u7528\u6237\u624D\u53EF\u4EE5\u586B\u5199\u95EE\u5377\u3002",children:(0,e.jsx)(b,{className:"setting-prompt"})})]}),(0,e.jsx)(ye,{name:"loginRequired"})]})}),(0,e.jsx)("div",{className:"setting-item",children:(0,e.jsxs)("div",{className:"setting-item-switch",children:[(0,e.jsxs)("span",{children:["\u663E\u793A\u9898\u76EE\u5E8F\u53F7",(0,e.jsx)(K.Z,{overlay:"\u52FE\u9009\u540E\uFF0C\u95EE\u5377\u4E2D\u7684\u9898\u76EE\u4F1A\u6309\u6392\u5217\u987A\u5E8F\u4ECE1\u5F00\u59CB\u663E\u793A\u9898\u76EE\u5E8F\u53F7\u3002",children:(0,e.jsx)(b,{className:"setting-prompt"})})]}),(0,e.jsx)(ye,{name:"questionNumber"})]})}),(0,e.jsx)("div",{className:"setting-item",children:(0,e.jsxs)("div",{className:"setting-item-switch",children:[(0,e.jsxs)("span",{children:["\u663E\u793A\u8FDB\u5EA6\u6761",(0,e.jsx)(K.Z,{overlay:"\u52FE\u9009\u540E\uFF0C\u586B\u5199\u8005\u6ED1\u52A8\u9875\u9762\u53EF\u4EE5\u770B\u5230\u5F53\u524D\u95EE\u5377\u586B\u5199\u8FDB\u5EA6\u3002",children:(0,e.jsx)(b,{className:"setting-prompt"})})]}),(0,e.jsx)(ye,{name:"progressBar"})]})}),(0,e.jsx)("div",{className:"setting-item",children:(0,e.jsxs)("div",{className:"setting-item-switch",children:[(0,e.jsxs)("span",{children:["\u5141\u8BB8\u4FEE\u6539\u7B54\u6848",(0,e.jsx)(K.Z,{overlay:"\u52FE\u9009\u540E\uFF0C\u518D\u6B21\u6253\u5F00\u95EE\u5377\u4F1A\u56DE\u663E\u4E4B\u524D\u586B\u5199\u7684\u7B54\u6848\uFF0C\u5E76\u4E14\u53EF\u4EE5\u4FEE\u6539\u3002",children:(0,e.jsx)(b,{className:"setting-prompt"})})]}),(0,e.jsx)(ye,{name:"enableUpdate"})]})}),(0,e.jsxs)("div",{className:"setting-item",children:[(0,e.jsxs)("div",{className:"setting-item-switch",children:[(0,e.jsxs)("span",{children:["\u8BBE\u7F6E\u95EE\u5377\u9ED8\u8BA4\u7B54\u6848",(0,e.jsx)(K.Z,{overlay:"\u8BBE\u7F6E\u7684\u7B54\u6848\u5C06\u4F5C\u4E3A\u9ED8\u8BA4\u7B54\u6848\u5E26\u5165\u95EE\u5377",children:(0,e.jsx)(b,{className:"setting-prompt"})})]}),(0,e.jsx)(V.Z,{checked:z,onChange:function(P){M(P)}})]}),(0,e.jsx)("div",{className:"setting-item-content",children:(0,e.jsx)(Se,{name:"initialValues"})})]}),(0,e.jsxs)("div",{className:"setting-item",children:[(0,e.jsxs)("div",{className:"setting-item-switch",children:[(0,e.jsx)("span",{children:"\u8BBE\u7F6E\u95EE\u5377\u7ED3\u675F\u65F6\u95F4"}),(0,e.jsx)(V.Z,{checked:ge,onChange:function(P){Qe(P)}})]}),(0,e.jsx)("div",{className:"setting-item-content",children:(0,e.jsx)(Be.P,{name:"endTime",isMoment:!0,children:(0,e.jsx)(X.Z,{showTime:!0})})})]}),(0,e.jsxs)("div",{className:"setting-item",children:[(0,e.jsxs)("div",{className:"setting-item-switch",children:[(0,e.jsx)("span",{children:"\u8BBE\u7F6E\u95EE\u5377\u56DE\u6536\u4E0A\u9650"}),(0,e.jsx)(V.Z,{checked:je,onChange:function(P){f(P)}})]}),(0,e.jsx)("div",{className:"setting-item-content",children:je&&(0,e.jsxs)(e.Fragment,{children:["\u56DE\u6536",(0,e.jsx)(Be.P,{name:"maxAnswers",children:(0,e.jsx)(ce.Z,{style:{margin:"0 5px"},min:1})}),"\u4EFD\u95EE\u5377\u540E\uFF0C\u505C\u6B62\u6536\u96C6"]})})]})]})})})})}),fe=t(54421),Ae=t(38272),x=t(94233),d=t(51890),l=t(49111),u=t(19650),C=t(71153),m=t(60331),B=t(13062),o=t(71230),N=t(48736),k=t(27049),Oe=t(89032),w=t(15746),Re=t(62999),ke=t(51753),he=t(86582),Ke=t(43358),re=t(97268),He=t(18106),Le=t(67164),me=t(60780),se=t.n(me),ue=t(49101),Ue=re.Z.Option,be=(0,h.Pi)(function(v){var i=v.onChange,s=v.orgTreeData,p=v.positions,c=(0,r.useState)(),g=(0,A.Z)(c,2),S=g[0],y=g[1],j=(0,r.useState)(),Z=(0,A.Z)(j,2),L=Z[0],T=Z[1];return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(o.Z,{gutter:10,children:[(0,e.jsx)(w.Z,{span:16,children:(0,e.jsx)(ke.Z,{onChange:function(M){return y(M)},style:{width:"100%"},dropdownStyle:{maxHeight:400,overflow:"auto"},treeData:[{title:"\u53D1\u8D77\u4EBA\u5F53\u524D\u90E8\u95E8",value:"${currentOrgId}",key:"${currentOrgId}"},{title:"\u53D1\u8D77\u4EBA\u4E0A\u7EA7\u90E8\u95E8",value:"${parentOrgId}",key:"${parentOrgId}"}].concat((0,he.Z)(s)),placeholder:"\u8BF7\u9009\u62E9\u673A\u6784",treeDefaultExpandAll:!0,allowClear:!0,value:S})}),(0,e.jsx)(w.Z,{span:8,children:(0,e.jsx)(re.Z,{style:{width:"100%"},placeholder:"\u8BF7\u9009\u62E9\u5C97\u4F4D",allowClear:!0,value:L,onChange:function(M){return T(M)},children:p.map(function(z){return(0,e.jsx)(Ue,{value:z.id,children:z.name},z.id)})})})]}),(0,e.jsx)(o.Z,{style:{marginTop:10},children:(0,e.jsx)(w.Z,{children:(0,e.jsx)(J.Z,{icon:(0,e.jsx)(ue.Z,{}),onClick:function(){(S||L)&&i("P:".concat(S||"",":").concat(L||""))},children:"\u6DFB\u52A0"})})})]})}),We=Le.Z.TabPane,Ge=re.Z.Option,nt=(0,h.Pi)(function(v){var i=v.onChange,s=v.tabs,p=s===void 0?["user","role","position"]:s,c=(0,ne.m2)(),g=(0,r.useState)(v.value||[]),S=(0,A.Z)(g,2),y=S[0],j=S[1];(0,r.useEffect)(function(){j(v.value||[])},[v.value]);var Z=(0,ne.LF)(y),L=c.depts,T=c.users,z=c.roles,M=c.positions,De=(0,r.useState)(),we=(0,A.Z)(De,2),ge=we[0],Qe=we[1];(0,r.useEffect)(function(){ge&&c.loadUsers({orgId:ge,pageSize:1024})},[ge,c]);var $e=(0,r.useMemo)(function(){return se()(L.map(function(f){return{value:f.id,title:f.name,key:f.id,parentId:f.parentId}}),{parentProperty:"parentId",customID:"value"})},[L]),Ne=function(E){var P=(0,he.Z)(y);E.forEach(function(G){P.includes(G)||P.push(G)}),j(P),i(P)},je=function(){for(var E=arguments.length,P=new Array(E),G=0;G<E;G++)P[G]=arguments[G];var xe=(0,he.Z)(y.filter(function(ze){return!P.includes(ze)}));j(xe),i(xe)};return(0,e.jsx)("div",{style:{width:400},children:(0,e.jsxs)(Le.Z,{defaultActiveKey:"user",children:[(0,e.jsx)(We,{tab:"\u6210\u5458",disabled:!p.includes("user"),children:(0,e.jsxs)("div",{style:{height:400,overflowY:"auto",overflowX:"hidden"},children:[(0,e.jsxs)(o.Z,{gutter:20,children:[(0,e.jsx)(w.Z,{span:16,children:(0,e.jsx)(ke.Z,{onChange:function(E){return Qe(E)},style:{width:"100%"},dropdownStyle:{maxHeight:400,overflow:"auto"},treeData:$e,placeholder:"\u8BF7\u9009\u62E9\u673A\u6784",treeDefaultExpandAll:!0,allowClear:!0})}),(0,e.jsx)(w.Z,{span:8,children:(0,e.jsx)(re.Z,{style:{width:"100%"},placeholder:"\u8BF7\u9009\u62E9\u6210\u5458",allowClear:!0,showSearch:!0,mode:"multiple",onChange:function(E){return Ne(E)},maxTagCount:0,value:y.filter(function(f){return f.startsWith("U:")}),dropdownRender:function(E){return(0,e.jsxs)("div",{children:[E,(0,e.jsx)(k.Z,{style:{margin:"4px 0"}}),(0,e.jsx)("div",{style:{display:"flex",flexWrap:"nowrap",padding:8},children:(0,e.jsx)(J.Z,{size:"small",type:"link",onClick:function(){return Ne(T.map(function(G){return"U:".concat(G.id)}))},children:"\u5168\u9009"})})]})},children:T.map(function(f){return(0,e.jsx)(Ge,{value:"U:".concat(f.id),children:f.name},f.id)})})})]}),(0,e.jsx)(u.Z,{style:{marginTop:20},wrap:!0,children:y.filter(function(f){return f.startsWith("U:")}).map(function(f){return(0,e.jsx)(m.Z,{closable:!0,color:"blue",onClose:function(){return je(f)},children:Z.user[f.split(":")[1]]},f)})})]})},"user"),(0,e.jsx)(We,{tab:"\u89D2\u8272",disabled:!p.includes("role"),children:(0,e.jsxs)("div",{style:{height:400,overflowY:"auto",overflowX:"hidden"},children:[(0,e.jsx)(re.Z,{style:{width:"100%"},placeholder:"\u8BF7\u9009\u62E9\u89D2\u8272",allowClear:!0,showSearch:!0,mode:"multiple",value:y.filter(function(f){return f.startsWith("R:")}),onChange:function(E){return Ne(E)},maxTagCount:0,children:z.map(function(f){return(0,e.jsx)(Ge,{value:"R:".concat(f.id),children:f.name},f.id)})}),(0,e.jsx)(u.Z,{style:{marginTop:20},wrap:!0,children:y.filter(function(f){return f.startsWith("R:")}).map(function(f){return(0,e.jsx)(m.Z,{closable:!0,color:"blue",onClose:function(){return je(f)},children:Z.role[f.split(":")[1]]},f)})})]})},"role"),(0,e.jsx)(We,{tab:"\u673A\u6784\u5C97\u4F4D",disabled:!p.includes("position"),children:(0,e.jsxs)("div",{style:{height:400,overflowY:"auto",overflowX:"hidden"},children:[(0,e.jsx)(be,{positions:M,orgTreeData:$e,onChange:function(E){return Ne([E])}}),(0,e.jsx)(u.Z,{style:{marginTop:20},wrap:!0,children:y.filter(function(f){return f.startsWith("P:")}).map(function(f){var E=f.split(":"),P=(0,A.Z)(E,3),G=P[1],xe=P[2];return(0,e.jsxs)(m.Z,{closable:!0,color:"blue",onClose:function(){return je(f)},children:[Z.org[G],"-",Z.position[xe]]},G+":"+xe)})})]})},"position")]})})}),lt=nt,at=function(i){var s=(0,r.useState)([]),p=(0,A.Z)(s,2),c=p[0],g=p[1];return(0,e.jsx)(de.Z,{title:"\u8BBE\u7F6E\u534F\u4F5C\u7BA1\u7406\u5458",visible:!0,onCancel:i.onCancel,onOk:function(){return i.onOk(c)},children:(0,e.jsx)(lt,{tabs:["user"],onChange:function(y){g(y.map(function(j){return j.split(":")[1]}))}})})},rt=function(){var i=(0,te.IE)(),s=i.id,p=(0,r.useState)([]),c=(0,A.Z)(p,2),g=c[0],S=c[1],y=(0,r.useState)(!1),j=(0,A.Z)(y,2),Z=j[0],L=j[1],T=function(){return ne.hi.getProjectPartner(s).then(function(M){M&&S(M)})};return(0,r.useEffect)(function(){T()},[]),(0,e.jsxs)("div",{children:[(0,e.jsx)(U.Z,{title:(0,e.jsxs)(e.Fragment,{children:["\u534F\u4F5C\u7BA1\u7406\u5458\u5217\u8868",(0,e.jsx)(K.Z,{overlay:"\u534F\u4F5C\u8005\u53EF\u4EE5\u534F\u52A9\u521B\u5EFA\u8005\u8FDB\u884C\u7F16\u8F91\u95EE\u5377\u3001\u7BA1\u7406\u6570\u636E\u7B49\u64CD\u4F5C\u3002",children:(0,e.jsx)(b,{className:"setting-prompt",style:{marginLeft:5}})})]}),extra:(0,e.jsx)("a",{href:"#",onClick:function(){return L(!0)},children:"\u8BBE\u7F6E\u534F\u4F5C\u7BA1\u7406\u5458"}),children:(0,e.jsx)(Ae.ZP,{itemLayout:"horizontal",dataSource:g,renderItem:function(M){return(0,e.jsxs)(Ae.ZP.Item,{actions:M.type!==1?[(0,e.jsx)("a",{onClick:function(){de.Z.confirm({title:"\u5220\u9664\u534F\u4F5C\u8005",content:(0,e.jsxs)("div",{children:["\u786E\u5B9A\u5220\u9664\u534F\u4F5C\u8005 ",(0,e.jsx)("b",{children:M.user.name}),"\u5417\uFF1F"]}),onOk:function(){ne.hi.deleteProjectPartner(M.id,s).then(function(ge){ge.success&&T()})}})},children:"\u5220\u9664"},"list-loadmore-edit")]:[],children:[(0,e.jsx)(Ae.ZP.Item.Meta,{avatar:(0,e.jsx)(d.C,{src:M.user.avatar?"/api/public/preview/".concat(M.user.avatar):""}),title:M.user.name}),(0,e.jsx)("div",{children:M.type===1?"\u521B\u5EFA\u8005":"\u534F\u4F5C\u8005"})]})}})}),Z&&(0,e.jsx)(at,{onCancel:function(){return L(!1)},onOk:function(M){ne.hi.addProjectPartner({userIds:M,projectId:s}).then(function(){T(),L(!1)})}})]})},it=(0,h.Pi)(function(){var v,i,s=(0,te.IE)(),p=(0,r.useMemo)(function(){return(0,Fe.Np)({initialValues:s.setting,effects:function(){(0,Fe.Zj)("*",function(Z){console.log(Z.address.toString(),Z.value);var L={},T=L;Z.path.forEach(function(z,M){var De={};M===Z.path.length-1?T[z]=Z.value:T[z]=De,T=De}),ne.hi.updateSetting({id:s.id,settingKey:Z.address.toString(),settingValue:Z.value}).then(function(z){z.success&&H.default.info("\u4FDD\u5B58\u4E2D")})})}})},[s.setting]),c=(0,r.useState)(!!((v=s.setting)!==null&&v!==void 0&&(i=v.submittedSetting)!==null&&i!==void 0&&i.contentHtml)),g=(0,A.Z)(c,2),S=g[0],y=g[1];return(0,r.useEffect)(function(){p.setFieldState("submittedSetting.contentHtml",function(j){return j.display=S?"visible":"none"})},[S,p]),(0,e.jsx)(h.RV,{form:p,children:(0,e.jsx)(h.Wo,{name:"submittedSetting",children:(0,e.jsx)("div",{children:(0,e.jsx)(U.Z,{title:"\u586B\u5199\u8005\u63D0\u4EA4\u95EE\u5377\u540E",className:"submitted-setting",children:(0,e.jsxs)("div",{className:"setting-item",children:[(0,e.jsxs)("div",{className:"setting-item-switch",children:[(0,e.jsxs)("span",{children:["\u63D0\u4EA4\u540E\u56FE\u6587\u5C55\u793A",(0,e.jsx)(K.Z,{overlay:"\u4F60\u53EF\u4EE5\u5728\u8868\u5355\u63D0\u4EA4\u9875\u9762\u8BBE\u7F6E\u66F4\u4E3A\u4E30\u5BCC\u591A\u5F69\u7684\u5185\u5BB9\uFF0C\u5305\u62EC\u63D2\u5165\u56FE\u7247\u3001\u8BBE\u7F6E\u5B57\u53F7\u3001\u5B57\u4F53\u989C\u8272\u3001\u5E8F\u53F7\u3001\u8BBE\u7F6E\u8D85\u94FE\u63A5\u7B49\u7B49\u3002",children:(0,e.jsx)(b,{className:"setting-prompt"})})]}),(0,e.jsx)(V.Z,{checked:S,onChange:function(Z){y(Z)}})]}),(0,e.jsx)("div",{className:"setting-item-content",children:(0,e.jsx)(Ve,{name:"contentHtml"})})]})})})})})}),ot=(0,h.Pi)(function(){var v=(0,r.useContext)(n),i=v.settingStore,s=i.activePanel,p=function(){if(s==="answerSetting")return(0,e.jsx)(Pe,{});if(s==="memberSetting")return(0,e.jsx)(rt,{});if(s==="submittedSetting")return(0,e.jsx)(it,{})},c=I("-content");return(0,e.jsx)("div",{className:c,children:p()})}),Ft=t(7359),Ye=t(27279),st=t(8212),ut={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M824.2 699.9a301.55 301.55 0 00-86.4-60.4C783.1 602.8 812 546.8 812 484c0-110.8-92.4-201.7-203.2-200-109.1 1.7-197 90.6-197 200 0 62.8 29 118.8 74.2 155.5a300.95 300.95 0 00-86.4 60.4C345 754.6 314 826.8 312 903.8a8 8 0 008 8.2h56c4.3 0 7.9-3.4 8-7.7 1.9-58 25.4-112.3 66.7-153.5A226.62 226.62 0 01612 684c60.9 0 118.2 23.7 161.3 66.8C814.5 792 838 846.3 840 904.3c.1 4.3 3.7 7.7 8 7.7h56a8 8 0 008-8.2c-2-77-33-149.2-87.8-203.9zM612 612c-34.2 0-66.4-13.3-90.5-37.5a126.86 126.86 0 01-37.5-91.8c.3-32.8 13.4-64.5 36.3-88 24-24.6 56.1-38.3 90.4-38.7 33.9-.3 66.8 12.9 91 36.6 24.8 24.3 38.4 56.8 38.4 91.4 0 34.2-13.3 66.3-37.5 90.5A127.3 127.3 0 01612 612zM361.5 510.4c-.9-8.7-1.4-17.5-1.4-26.4 0-15.9 1.5-31.4 4.3-46.5.7-3.6-1.2-7.3-4.5-8.8-13.6-6.1-26.1-14.5-36.9-25.1a127.54 127.54 0 01-38.7-95.4c.9-32.1 13.8-62.6 36.3-85.6 24.7-25.3 57.9-39.1 93.2-38.7 31.9.3 62.7 12.6 86 34.4 7.9 7.4 14.7 15.6 20.4 24.4 2 3.1 5.9 4.4 9.3 3.2 17.6-6.1 36.2-10.4 55.3-12.4 5.6-.6 8.8-6.6 6.3-11.6-32.5-64.3-98.9-108.7-175.7-109.9-110.9-1.7-203.3 89.2-203.3 199.9 0 62.8 28.9 118.8 74.2 155.5-31.8 14.7-61.1 35-86.5 60.4-54.8 54.7-85.8 126.9-87.8 204a8 8 0 008 8.2h56.1c4.3 0 7.9-3.4 8-7.7 1.9-58 25.4-112.3 66.7-153.5 29.4-29.4 65.4-49.8 104.7-59.7 3.9-1 6.5-4.7 6-8.7z"}}]},name:"team",theme:"outlined"},ct=ut,Xe=function(i,s){return r.createElement(ae.Z,(0,D.Z)((0,D.Z)({},i),{},{ref:s,icon:ct}))};Xe.displayName="TeamOutlined";var dt=r.forwardRef(Xe),vt={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64L128 192v384c0 212.1 171.9 384 384 384s384-171.9 384-384V192L512 64zm312 512c0 172.3-139.7 312-312 312S200 748.3 200 576V246l312-110 312 110v330z"}},{tag:"path",attrs:{d:"M378.4 475.1a35.91 35.91 0 00-50.9 0 35.91 35.91 0 000 50.9l129.4 129.4 2.1 2.1a33.98 33.98 0 0048.1 0L730.6 434a33.98 33.98 0 000-48.1l-2.8-2.8a33.98 33.98 0 00-48.1 0L483 579.7 378.4 475.1z"}}]},name:"safety",theme:"outlined"},ft=vt,Je=function(i,s){return r.createElement(ae.Z,(0,D.Z)((0,D.Z)({},i),{},{ref:s,icon:ft}))};Je.displayName="SafetyOutlined";var ht=r.forwardRef(Je),mt=t(25782),bt=t(94184),gt=t.n(bt),_e=Ye.Z.Panel,xt=[{key:"answerSetting",title:"\u6570\u636E\u6536\u96C6\u8BBE\u7F6E",icon:(0,e.jsx)(st.Z,{}),description:"\u57FA\u672C\u7684\u95EE\u5377\u586B\u5199\u8BBE\u7F6E"},{key:"memberSetting",title:"\u534F\u540C\u7F16\u8F91",icon:(0,e.jsx)(dt,{}),description:"\u8BBE\u7F6E\u534F\u4F5C\u7BA1\u7406\u5458"},{key:"submittedSetting",title:"\u63D0\u4EA4\u95EE\u5377\u6570\u636E\u540E",icon:(0,e.jsx)(ht,{}),description:"\u95EE\u5377\u63D0\u4EA4\u5B8C\u6210\u9875\u9762\u8BBE\u7F6E"}],pt=(0,h.Pi)(function(){var v=I("-nav"),i=(0,r.useContext)(n),s=i.settingStore,p=s.activePanel;return(0,e.jsx)("div",{className:v,children:(0,e.jsxs)(Ye.Z,{accordion:!0,expandIcon:function(g){var S=g.isActive;return(0,e.jsx)(mt.Z,{rotate:S?90:0})},defaultActiveKey:"1",children:[(0,e.jsx)(_e,{header:"\u57FA\u7840\u8BBE\u7F6E",style:{padding:0},children:xt.map(function(c){return(0,e.jsxs)(o.Z,{className:gt()("nav-panel-item",{active:p===c.key}),onClick:function(){return s.activePanel=c.key},children:[(0,e.jsx)(w.Z,{span:4,children:(0,e.jsx)(d.C,{icon:c.icon,shape:"square"})}),(0,e.jsx)(w.Z,{span:20,children:(0,e.jsxs)(o.Z,{children:[(0,e.jsx)(w.Z,{span:24,children:c.title}),(0,e.jsx)(w.Z,{span:24,children:c.description})]})})]},c.key)})},"1"),(0,e.jsx)(_e,{header:"\u9AD8\u7EA7\u8BBE\u7F6E",children:(0,e.jsx)("p",{children:"todo"})},"2")]})})}),Et=t(69610),Ct=t(54941),qt=function(){function v(i){(0,Et.Z)(this,v),this.rootStore=void 0,this.activePanel=void 0,this.rootStore=i,this.activePanel="answerSetting",this.makeObservable()}return(0,Ct.Z)(v,[{key:"makeObservable",value:function(){(0,_.Ou)(this,{rootStore:_.LO.ref,activePanel:_.LO.ref})}}]),v}(),yt=t(77613),jt=t(27400),et=(0,yt.P)(function(){var v=(0,te.IE)(),i=(0,jt.a)(),s=i.isMobile,p=(0,r.useMemo)(function(){return new qt(v)},[v]);return(0,e.jsx)(n.Provider,{value:{prefixCls:"survey-setting",settingStore:p},children:(0,e.jsxs)("div",{className:"survey-setting",children:[!s&&(0,e.jsx)(pt,{}),(0,e.jsx)(ot,{})]})})}),St=et},11628:function(Me,$,t){"use strict";t.d($,{xI:function(){return r},Ge:function(){return Y},IE:function(){return I}});var h=t(67294),r=(0,h.createContext)({}),n=r.Provider;function I(){var U=(0,h.useContext)(r);return U.store}function Y(){var U=I();return U.flowStore}},39144:function(Me,$,t){"use strict";t.d($,{Z:function(){return ae}});var h=t(96156),r=t(22122),n=t(67294),I=t(94184),Y=t.n(I),U=t(98423),le=t(65632),ce=function(a,b){var O={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&b.indexOf(e)<0&&(O[e]=a[e]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var q=0,e=Object.getOwnPropertySymbols(a);q<e.length;q++)b.indexOf(e[q])<0&&Object.prototype.propertyIsEnumerable.call(a,e[q])&&(O[e[q]]=a[e[q]]);return O},pe=function(b){var O=b.prefixCls,e=b.className,q=b.hoverable,Ce=q===void 0?!0:q,Q=ce(b,["prefixCls","className","hoverable"]);return n.createElement(le.C,null,function(ie){var oe=ie.getPrefixCls,J=oe("card",O),ee=Y()("".concat(J,"-grid"),e,(0,h.Z)({},"".concat(J,"-grid-hoverable"),Ce));return n.createElement("div",(0,r.Z)({},Q,{className:ee}))})},X=pe,Ie=function(a,b){var O={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&b.indexOf(e)<0&&(O[e]=a[e]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var q=0,e=Object.getOwnPropertySymbols(a);q<e.length;q++)b.indexOf(e[q])<0&&Object.prototype.propertyIsEnumerable.call(a,e[q])&&(O[e[q]]=a[e[q]]);return O},V=function(b){return n.createElement(le.C,null,function(O){var e=O.getPrefixCls,q=b.prefixCls,Ce=b.className,Q=b.avatar,ie=b.title,oe=b.description,J=Ie(b,["prefixCls","className","avatar","title","description"]),ee=e("card",q),de=Y()("".concat(ee,"-meta"),Ce),R=Q?n.createElement("div",{className:"".concat(ee,"-meta-avatar")},Q):null,_=ie?n.createElement("div",{className:"".concat(ee,"-meta-title")},ie):null,te=oe?n.createElement("div",{className:"".concat(ee,"-meta-description")},oe):null,ve=_||te?n.createElement("div",{className:"".concat(ee,"-meta-detail")},_,te):null;return n.createElement("div",(0,r.Z)({},J,{className:de}),R,ve)})},Te=V,K=t(67164),A=t(71230),F=t(15746),H=t(97647),D=function(a,b){var O={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&b.indexOf(e)<0&&(O[e]=a[e]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var q=0,e=Object.getOwnPropertySymbols(a);q<e.length;q++)b.indexOf(e[q])<0&&Object.prototype.propertyIsEnumerable.call(a,e[q])&&(O[e[q]]=a[e[q]]);return O};function W(a){var b=a.map(function(O,e){return n.createElement("li",{style:{width:"".concat(100/a.length,"%")},key:"action-".concat(e)},n.createElement("span",null,O))});return b}var Ee=n.forwardRef(function(a,b){var O,e,q=n.useContext(le.E_),Ce=q.getPrefixCls,Q=q.direction,ie=n.useContext(H.Z),oe=function(Ue){var be;(be=a.onTabChange)===null||be===void 0||be.call(a,Ue)},J=function(){var Ue;return n.Children.forEach(a.children,function(be){be&&be.type&&be.type===X&&(Ue=!0)}),Ue},ee=a.prefixCls,de=a.className,R=a.extra,_=a.headStyle,te=_===void 0?{}:_,ve=a.bodyStyle,Se=ve===void 0?{}:ve,qe=a.title,Ze=a.loading,Ve=a.bordered,ye=Ve===void 0?!0:Ve,Fe=a.size,Be=a.type,ne=a.cover,Pe=a.actions,fe=a.tabList,Ae=a.children,x=a.activeTabKey,d=a.defaultActiveTabKey,l=a.tabBarExtraContent,u=a.hoverable,C=a.tabProps,m=C===void 0?{}:C,B=D(a,["prefixCls","className","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),o=Ce("card",ee),N=Se.padding===0||Se.padding==="0px"?{padding:24}:void 0,k=n.createElement("div",{className:"".concat(o,"-loading-block")}),Oe=n.createElement("div",{className:"".concat(o,"-loading-content"),style:N},n.createElement(A.Z,{gutter:8},n.createElement(F.Z,{span:22},k)),n.createElement(A.Z,{gutter:8},n.createElement(F.Z,{span:8},k),n.createElement(F.Z,{span:15},k)),n.createElement(A.Z,{gutter:8},n.createElement(F.Z,{span:6},k),n.createElement(F.Z,{span:18},k)),n.createElement(A.Z,{gutter:8},n.createElement(F.Z,{span:13},k),n.createElement(F.Z,{span:9},k)),n.createElement(A.Z,{gutter:8},n.createElement(F.Z,{span:4},k),n.createElement(F.Z,{span:3},k),n.createElement(F.Z,{span:16},k))),w=x!==void 0,Re=(0,r.Z)((0,r.Z)({},m),(O={},(0,h.Z)(O,w?"activeKey":"defaultActiveKey",w?x:d),(0,h.Z)(O,"tabBarExtraContent",l),O)),ke,he=fe&&fe.length?n.createElement(K.Z,(0,r.Z)({size:"large"},Re,{className:"".concat(o,"-head-tabs"),onChange:oe}),fe.map(function(ue){return n.createElement(K.Z.TabPane,{tab:ue.tab,disabled:ue.disabled,key:ue.key})})):null;(qe||R||he)&&(ke=n.createElement("div",{className:"".concat(o,"-head"),style:te},n.createElement("div",{className:"".concat(o,"-head-wrapper")},qe&&n.createElement("div",{className:"".concat(o,"-head-title")},qe),R&&n.createElement("div",{className:"".concat(o,"-extra")},R)),he));var Ke=ne?n.createElement("div",{className:"".concat(o,"-cover")},ne):null,re=n.createElement("div",{className:"".concat(o,"-body"),style:Se},Ze?Oe:Ae),He=Pe&&Pe.length?n.createElement("ul",{className:"".concat(o,"-actions")},W(Pe)):null,Le=(0,U.Z)(B,["onTabChange"]),me=Fe||ie,se=Y()(o,(e={},(0,h.Z)(e,"".concat(o,"-loading"),Ze),(0,h.Z)(e,"".concat(o,"-bordered"),ye),(0,h.Z)(e,"".concat(o,"-hoverable"),u),(0,h.Z)(e,"".concat(o,"-contain-grid"),J()),(0,h.Z)(e,"".concat(o,"-contain-tabs"),fe&&fe.length),(0,h.Z)(e,"".concat(o,"-").concat(me),me),(0,h.Z)(e,"".concat(o,"-type-").concat(Be),!!Be),(0,h.Z)(e,"".concat(o,"-rtl"),Q==="rtl"),e),de);return n.createElement("div",(0,r.Z)({ref:b},Le,{className:se}),ke,Ke,re,He)});Ee.Grid=X,Ee.Meta=Te;var ae=Ee},58024:function(Me,$,t){"use strict";var h=t(38663),r=t.n(h),n=t(70347),I=t.n(n),Y=t(18106),U=t(13062),le=t(89032)}}]);
