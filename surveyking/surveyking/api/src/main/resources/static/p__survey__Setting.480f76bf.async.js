(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[1117],{8212:function(Oe,W,t){"use strict";t.d(W,{Z:function(){return te}});var h=t(28991),i=t(67294),l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},N=l,Q=t(27029),R=function(xe,A){return i.createElement(Q.Z,(0,h.Z)((0,h.Z)({},xe),{},{ref:A,icon:N}))};R.displayName="EditOutlined";var te=i.forwardRef(R)},70347:function(){},90586:function(Oe,W,t){"use strict";t.d(W,{P:function(){return $}});var h=t(11849),i=t(93224),l=t(2299),N=t(67294),Q=t(30381),R=t.n(Q),te=t(85893),$=function(A){console.log(A);var De=A.children,H=A.syncDisplay,Ne=A.isMoment,pe=(0,i.Z)(A,["children","syncDisplay","isMoment"]),ne=(0,N.useMemo)(function(){return(0,l.$j)(function(S){var G=S.value,L=S.onChange,Y=G;return Ne&&G&&(Y=R()(G)),N.cloneElement(De,{value:Y,onChange:function(Ce){L(Ce)}})},(0,l.jM)(function(S,G){return{value:S.value,onChange:function(Y){R().isMoment(Y)?G.onInput(Y.valueOf()):G.onInput(Y)}}}))},[]);return(0,te.jsx)(l.gN,(0,h.Z)((0,h.Z)({},pe),{},{component:[ne,A],reactions:[function(S){if(H)if(typeof H=="string"){var G=S.query(S.path.parent().concat(H)).get("value");G?S.display="visible":S.display="none"}else typeof H=="object"&&Object.keys(H).forEach(function(L){var Y=S.query(S.path.parent().concat(L)).get("value");H[L].includes(Y)?S.display="visible":S.display="none"})}]}))};W.Z=$},17758:function(Oe,W,t){"use strict";t.d(W,{cM:function(){return ve},Bn:function(){return re},ZP:function(){return ie}});var h=t(2824),i=t(20310),l=t(67294),N=t(71167),Q=t.n(N),R=t(29163),te=t(94184),$=t.n(te),xe=t(11849),A=t(71194),De=t(50146),H=t(49111),Ne=t(19650),pe=t(57663),ne=t(71577),S=t(93224),G=t(76095),L=t.n(G),Y=t(85551),Ee=t.n(Y),Ce=t(69610),r=t(54941),B=t(63543),q=t(94663),n=t(43028),p=t(5869),ce=L().import("blots/block"),K=function(b){(0,n.Z)(a,b);var v=(0,p.Z)(a);function a(){return(0,Ce.Z)(this,a),v.apply(this,arguments)}return(0,r.Z)(a,[{key:"deleteAt",value:function(E,g){(0,B.Z)((0,q.Z)(a.prototype),"deleteAt",this).call(this,E,g),this.cache={}}}],[{key:"create",value:function(E){var g=(0,B.Z)((0,q.Z)(a),"create",this).call(this,E);if(E===!0)return g;var Z=document.createElement("img");return Z.setAttribute("src",E),g.appendChild(Z),g}},{key:"value",value:function(E){var g=E.dataset,Z=g.src,u=g.custom;return{src:Z,custom:u}}}]),a}(ce);K.blotName="imageBlot",K.className="image-uploading",K.tagName="span",L().register({"formats/imageBlot":K});var X=K,J=function(){function b(v,a){(0,Ce.Z)(this,b),this.quill=v,this.options=a,this.range=null,typeof this.options.upload!="function"&&console.warn("[Missing config] upload function that returns a promise is required");var c=this.quill.getModule("toolbar");c.addHandler("image",this.selectLocalImage.bind(this)),this.handleDrop=this.handleDrop.bind(this),this.handlePaste=this.handlePaste.bind(this),this.quill.root.addEventListener("drop",this.handleDrop,!1),this.quill.root.addEventListener("paste",this.handlePaste,!1)}return(0,r.Z)(b,[{key:"selectLocalImage",value:function(){var a=this;this.range=this.quill.getSelection(),this.fileHolder=document.createElement("input"),this.fileHolder.setAttribute("type","file"),this.fileHolder.setAttribute("accept","image/*"),this.fileHolder.setAttribute("style","visibility:hidden"),this.fileHolder.onchange=this.fileChanged.bind(this),document.body.appendChild(this.fileHolder),this.fileHolder.click(),window.requestAnimationFrame(function(){document.body.removeChild(a.fileHolder)})}},{key:"handleDrop",value:function(a){var c=this;if(a.stopPropagation(),a.preventDefault(),a.dataTransfer&&a.dataTransfer.files&&a.dataTransfer.files.length){if(document.caretRangeFromPoint){var E=document.getSelection(),g=document.caretRangeFromPoint(a.clientX,a.clientY);E&&g&&E.setBaseAndExtent(g.startContainer,g.startOffset,g.startContainer,g.startOffset)}else{var Z=document.getSelection(),u=document.caretPositionFromPoint(a.clientX,a.clientY);Z&&u&&Z.setBaseAndExtent(u.offsetNode,u.offset,u.offsetNode,u.offset)}this.range=this.quill.getSelection();var k=a.dataTransfer.files[0];setTimeout(function(){c.range=c.quill.getSelection(),c.readAndUploadFile(k)},0)}}},{key:"handlePaste",value:function(a){var c=this,E=a.clipboardData||window.clipboardData;if(E&&(E.items||E.files))for(var g=E.items||E.files,Z=/^image\/(jpe?g|gif|png|svg|webp)$/i,u=0;u<g.length;u++)Z.test(g[u].type)&&function(){var k=g[u].getAsFile?g[u].getAsFile():g[u];k&&(c.range=c.quill.getSelection(),a.preventDefault(),setTimeout(function(){c.range=c.quill.getSelection(),c.readAndUploadFile(k)},0))}()}},{key:"readAndUploadFile",value:function(a){var c=this,E=!1,g=new FileReader;g.addEventListener("load",function(){if(!E){var Z=g.result;c.insertBase64Image(Z)}},!1),a&&g.readAsDataURL(a),this.options.upload(a).then(function(Z){c.insertToEditor(Z)},function(Z){E=!0,c.removeBase64Image(),console.warn(Z)})}},{key:"fileChanged",value:function(){var a=this.fileHolder.files[0];this.readAndUploadFile(a)}},{key:"insertBase64Image",value:function(a){var c=this.range;this.quill.insertEmbed(c.index,X.blotName,"".concat(a),"user")}},{key:"insertToEditor",value:function(a){var c=this.range;this.quill.deleteText(c.index,3,"user"),console.log(c,a),this.quill.insertEmbed(c.index,"image","".concat(a)),c.index++,this.quill.setSelection(c,"user")}},{key:"removeBase64Image",value:function(){var a=this.range;this.quill.deleteText(a.index,3,"user")}}]),b}();window.ImageUploader=J;var I=J,_=function(){function b(v,a){(0,Ce.Z)(this,b),this.quill=v,this.options=a,this.container=document.querySelector(a.container),v.on("text-change",this.update.bind(this)),this.update()}return(0,r.Z)(b,[{key:"calculate",value:function(){var a=this.quill.getText();return this.options.unit==="word"?(a=a.trim(),a.length>0?a.split(/\s+/).length:0):a.length}},{key:"update",value:function(){var a=this.calculate(),c=this.options.unit;a!==1&&(c+="s")}}]),b}();N.Quill.register("modules/counter",_);var e=t(68489),T=t(85893);L().register("modules/imageResize",Ee()),L().register("modules/imageUploader",I);var de=L().import("attributors/style/size");de.whitelist=["9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","26px","36px"],L().register(de,!0);var qe=function(v){var a=(0,l.useRef)(null),c=(0,l.useRef)(),E=(0,l.useRef)();return(0,l.useEffect)(function(){return a.current&&(c.current=new(L())(a.current,{theme:"snow",formats:["size","color","background","header","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","formula","align","imageBlot"],modules:{counter:{container:"#counter",unit:"word"},imageResize:{parchment:L().import("parchment"),modules:["Resize","DisplaySize"]},imageUploader:{upload:function(Z){return new Promise(function(u,k){e.hi.uploadImage(3,Z).then(function(O){O.success&&u("/api/public/preview/".concat(O.data.id))}).catch(function(O){k("Upload failed"),console.error("Error:",O)})})}},toolbar:[[{size:["9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","26px","36px"]}],[{color:[]},{background:[]}],["bold","italic","underline","strike","blockquote"],[{align:""},{align:"center"},{align:"right"},{align:"justify"}],["link","image"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}]]}}),v.value&&c.current.setText(v.value),c.current.on("text-change",function(g,Z,u){var k,O=(k=c.current)===null||k===void 0?void 0:k.root.innerHTML;O!==E.current&&v.onChange&&(v.onChange(O||""),E.current=O)})),function(){}},[]),(0,l.useEffect)(function(){var g,Z=E.current,u=(g=v.value)!==null&&g!==void 0?g:"";if(u!==Z){var k;E.current=u,(k=c.current)===null||k===void 0||k.setContents(c.current.clipboard.convert(u))}},[v.value]),(0,T.jsx)("div",{className:"custom-quill-editor",children:(0,T.jsx)("div",{ref:a})})},ve=function(v){var a=v.onChange,c=v.onClose,E=v.value,g=(0,S.Z)(v,["onChange","onClose","value"]),Z=(0,l.useState)(E),u=(0,h.Z)(Z,2),k=u[0],O=u[1];return(0,T.jsx)(De.Z,(0,xe.Z)((0,xe.Z)({visible:!0,onCancel:c,footer:!1,maskClosable:!1,closable:!1,width:650},g),{},{children:(0,T.jsxs)("div",{children:[(0,T.jsx)(qe,{value:k,onChange:function(je){O(je)}}),(0,T.jsx)("div",{style:{textAlign:"right",marginTop:20},children:(0,T.jsxs)(Ne.Z,{children:[(0,T.jsx)(ne.Z,{onClick:c,children:"\u53D6\u6D88"}),(0,T.jsx)(ne.Z,{type:"primary",onClick:function(){return a(k)},children:"\u4FDD\u5B58"})]})})]})}))},ze=t(8166),le;window.katex=ze.Z;var Be=N.Quill.import("attributors/style/size");Be.whitelist=["9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","26px","36px"],N.Quill.register(Be,!0);var ae=N.Quill.import("modules/clipboard"),ye=N.Quill.import("delta"),Ve=null,Me=R.ZP.div(le||(le=(0,i.Z)([`
  box-sizing: border-box;
  margin: 0;
  font-variant: tabular-nums;
  list-style: none;
  font-feature-settings: 'tnum';
  width: 100%;
  padding: `,`;
  color: rgba(0, 0, 0, 0.65);

  border: `,`;
  transition: all 0.3s;

  &.is-focus {
    border: `,`;
    border-right-width: 1px !important;
    outline: 0;
  }
  &.not-focus:hover {
    border: dashed 1px #aaaaaa !important;
    border-right-width: 1px !important;
  }

  .ql-editor {
    padding: 0;
    font-size: `,`;
    text-align: `,`;
  }

  .ql-bubble .ql-tooltip {
    z-index: 999;
    background-color: #fff;
    border: 1px solid #eaeaea;
    border-radius: 2px;
    box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.1);
    cursor: pointer;
  }

  .ql-toolbar {
    box-sizing: border-box;
    font-family: 'Helvetica Neue', 'Helvetica', 'Arial', sans-serif;
    /* border: 1px solid #ccc; */
  }

  .ql-bubble .ql-picker {
    position: relative;
    display: inline-block;
    float: left;
    height: 24px;
    color: #444;
    font-weight: 500;
    font-size: 14px;
    vertical-align: middle;
  }

  .ql-bubble .ql-stroke {
    fill: none;
    stroke: #444;
    stroke-linecap: round;
    stroke-linejoin: round;
    stroke-width: 2;
  }

  .ql-bubble.ql-toolbar button:hover .ql-stroke,
  .ql-bubble .ql-toolbar button:hover .ql-stroke,
  .ql-bubble.ql-toolbar button:focus .ql-stroke,
  .ql-bubble .ql-toolbar button:focus .ql-stroke,
  .ql-bubble.ql-toolbar button.ql-active .ql-stroke,
  .ql-bubble .ql-toolbar button.ql-active .ql-stroke,
  .ql-bubble.ql-toolbar .ql-picker-label:hover .ql-stroke,
  .ql-bubble .ql-toolbar .ql-picker-label:hover .ql-stroke,
  .ql-bubble.ql-toolbar .ql-picker-label.ql-active .ql-stroke,
  .ql-bubble .ql-toolbar .ql-picker-label.ql-active .ql-stroke,
  .ql-bubble.ql-toolbar .ql-picker-item:hover .ql-stroke,
  .ql-bubble .ql-toolbar .ql-picker-item:hover .ql-stroke,
  .ql-bubble.ql-toolbar .ql-picker-item.ql-selected .ql-stroke,
  .ql-bubble .ql-toolbar .ql-picker-item.ql-selected .ql-stroke,
  .ql-bubble.ql-toolbar button:hover .ql-stroke-miter,
  .ql-bubble .ql-toolbar button:hover .ql-stroke-miter,
  .ql-bubble.ql-toolbar button:focus .ql-stroke-miter,
  .ql-bubble .ql-toolbar button:focus .ql-stroke-miter,
  .ql-bubble.ql-toolbar button.ql-active .ql-stroke-miter,
  .ql-bubble .ql-toolbar button.ql-active .ql-stroke-miter,
  .ql-bubble.ql-toolbar .ql-picker-label:hover .ql-stroke-miter,
  .ql-bubble .ql-toolbar .ql-picker-label:hover .ql-stroke-miter,
  .ql-bubble.ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,
  .ql-bubble .ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,
  .ql-bubble.ql-toolbar .ql-picker-item:hover .ql-stroke-miter,
  .ql-bubble .ql-toolbar .ql-picker-item:hover .ql-stroke-miter,
  .ql-bubble.ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter,
  .ql-bubble .ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter {
    stroke: #2196f3;
  }

  .ql-bubble.ql-toolbar button:hover,
  .ql-bubble .ql-toolbar button:hover,
  .ql-bubble.ql-toolbar button:focus,
  .ql-bubble .ql-toolbar button:focus,
  .ql-bubble.ql-toolbar button.ql-active,
  .ql-bubble .ql-toolbar button.ql-active,
  .ql-bubble.ql-toolbar .ql-picker-label:hover,
  .ql-bubble .ql-toolbar .ql-picker-label:hover,
  .ql-bubble.ql-toolbar .ql-picker-label.ql-active,
  .ql-bubble .ql-toolbar .ql-picker-label.ql-active,
  .ql-bubble.ql-toolbar .ql-picker-item:hover,
  .ql-bubble .ql-toolbar .ql-picker-item:hover,
  .ql-bubble.ql-toolbar .ql-picker-item.ql-selected,
  .ql-bubble .ql-toolbar .ql-picker-item.ql-selected {
    color: #2196f3;
  }

  .ql-toolbar.ql-bubble .ql-picker.ql-expanded .ql-picker-options {
    border-color: #ccc;
  }
  .ql-bubble .ql-picker.ql-expanded .ql-picker-options {
    top: 100%;
    z-index: 1;
    display: block;
    margin-top: -1px;
    border: 1px solid #cccccc;
  }
  .ql-toolbar.ql-bubble .ql-picker-options {
    border: 1px solid transparent;
    box-shadow: rgba(0, 0, 0, 0.2) 0 2px 8px;
  }
  .ql-bubble .ql-picker-options {
    position: absolute;
    display: none;
    min-width: 100%;
    height: 200px;
    padding: 4px 2px;
    overflow-y: auto;
    white-space: nowrap;
    background-color: #fff;
  }

  .ql-bubble .ql-tooltip:not(.ql-flip) .ql-tooltip-arrow {
    top: -6px;
    border-bottom: 6px solid #fff;
  }

  .ql-bubble .ql-toolbar .ql-formats {
    margin: 3px 6px 3px 0px;
  }

  .ql-bubble .ql-toolbar .ql-formats:first-child {
    margin-left: 1px;
  }

  .ql-bubble.ql-toolbar button:hover .ql-fill,
  .ql-bubble .ql-toolbar button:hover .ql-fill,
  .ql-bubble.ql-toolbar button:focus .ql-fill,
  .ql-bubble .ql-toolbar button:focus .ql-fill,
  .ql-bubble.ql-toolbar button.ql-active .ql-fill,
  .ql-bubble .ql-toolbar button.ql-active .ql-fill,
  .ql-bubble.ql-toolbar .ql-picker-label:hover .ql-fill,
  .ql-bubble .ql-toolbar .ql-picker-label:hover .ql-fill,
  .ql-bubble.ql-toolbar .ql-picker-label.ql-active .ql-fill,
  .ql-bubble .ql-toolbar .ql-picker-label.ql-active .ql-fill,
  .ql-bubble.ql-toolbar .ql-picker-item:hover .ql-fill,
  .ql-bubble .ql-toolbar .ql-picker-item:hover .ql-fill,
  .ql-bubble.ql-toolbar .ql-picker-item.ql-selected .ql-fill,
  .ql-bubble .ql-toolbar .ql-picker-item.ql-selected .ql-fill,
  .ql-bubble.ql-toolbar button:hover .ql-stroke.ql-fill,
  .ql-bubble .ql-toolbar button:hover .ql-stroke.ql-fill,
  .ql-bubble.ql-toolbar button:focus .ql-stroke.ql-fill,
  .ql-bubble .ql-toolbar button:focus .ql-stroke.ql-fill,
  .ql-bubble.ql-toolbar button.ql-active .ql-stroke.ql-fill,
  .ql-bubble .ql-toolbar button.ql-active .ql-stroke.ql-fill,
  .ql-bubble.ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,
  .ql-bubble .ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,
  .ql-bubble.ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,
  .ql-bubble .ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,
  .ql-bubble.ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,
  .ql-bubble .ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,
  .ql-bubble.ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill,
  .ql-bubble .ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill {
    fill: #2196f3;
  }
  .ql-bubble .ql-picker.ql-size {
    width: 60px;
  }
  .ql-bubble .ql-picker.ql-size .ql-picker-item[data-value='9px']::before {
    font-size: 9px !important;
    content: '9';
  }
  .ql-bubble .ql-picker.ql-size .ql-picker-item[data-value='10px']::before {
    font-size: 10px !important;
    content: '10';
  }
  .ql-bubble .ql-picker.ql-size .ql-picker-item[data-value='11px']::before {
    font-size: 11px !important;
    content: '11';
  }
  .ql-bubble .ql-picker.ql-size .ql-picker-item[data-value='12px']::before {
    font-size: 12px !important;
    content: '12';
  }
  .ql-bubble .ql-picker.ql-size .ql-picker-item[data-value='14px']::before {
    font-size: 14px !important;
    content: '14';
  }
  .ql-bubble .ql-picker.ql-size .ql-picker-item[data-value='16px']::before {
    font-size: 16px !important;
    content: '16';
  }
  .ql-bubble .ql-picker.ql-size .ql-picker-item[data-value='18px']::before {
    font-size: 18px !important;
    content: '18';
  }
  .ql-bubble .ql-picker.ql-size .ql-picker-item[data-value='20px']::before {
    font-size: 20px !important;
    content: '20';
  }
  .ql-bubble .ql-picker.ql-size .ql-picker-item[data-value='22px']::before {
    font-size: 22px !important;
    content: '22';
  }
  .ql-bubble .ql-picker.ql-size .ql-picker-item[data-value='24px']::before {
    font-size: 24px !important;
    content: '24';
  }
  .ql-bubble .ql-picker.ql-size .ql-picker-item[data-value='26px']::before {
    font-size: 26px !important;
    content: '26';
  }
  .ql-bubble .ql-picker.ql-size .ql-picker-item[data-value='36px']::before {
    font-size: 36px !important;
    content: '36';
  }
  .ql-bubble .ql-picker.ql-size .ql-picker-label::before,
  .ql-bubble .ql-picker.ql-size .ql-picker-item::before {
    font-size: 14px !important;
    content: '14px';
  }
`])),function(b){return b.size==="middle"?"6px 11px 4px 11px":b.size==="small"?"2px 2px 0px 5px":"14px 11px"},function(b){return b.hasError?"1px solid #ff4d4f":"1px solid transparent"},function(b){return b.hasError?"1px solid #ff4d4f !important":"1px solid #1890ff !important"},function(b){return b.innerStyle&&b.innerStyle.fontSize},function(b){return b.innerStyle&&b.innerStyle.textAlign});function Ie(b){return typeof b=="symbol"?"":b&&b.startsWith("<p")?b:"<p>".concat(b,"</p>")}var Pe=N.Quill.import("ui/icons");Pe.tags='<svg style="width:18px;height:18px;"  viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="512" height="512"><path d="M851.968 167.936l0 109.568-281.6 0 0 587.776-116.736 0 0-587.776-281.6 0 0-109.568 679.936 0z" p-id="3840"></path></svg>';var re=function(v){var a=v.onChange,c=v.value,E=c===void 0?"":c,g=v.placeholder,Z=v.style,u=v.className,k=v.bounds,O=(0,l.useState)(!1),oe=(0,h.Z)(O,2),je=oe[0],Se=oe[1],Ze=(0,l.useState)(!1),Te=(0,h.Z)(Ze,2),fe=Te[0],Re=Te[1],ke=function(se){if(se.startsWith("<p>")){var ue=se.replace(/^<p>/,"").replace(/<\/p>$/,"");a(ue==="<br>"?"":ue)}else a(se)};function me(){Re(!0)}return(0,l.useEffect)(function(){setTimeout(function(){return Se(!1)},50)},[]),(0,T.jsxs)(Me,{style:Z,className:$()(u,{"is-focus":je,"not-focus":!je}),innerStyle:v.innerStyle,size:v.size,children:[fe&&(0,T.jsx)(ve,{onClose:function(){return Re(!1)},value:E,onChange:function(se){se&&ke(se),Re(!1)}}),(0,T.jsx)(Q(),{theme:"bubble",value:Ie(E),onChange:ke,style:{textAlign:"center"},bounds:k,onFocus:function(){Se(!0)},scrollingContainer:"body",className:u,onBlur:function(){Se(!1)},placeholder:g,modules:(0,l.useMemo)(function(){return{toolbar:{container:[[{size:["9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","26px","36px"]}],[{color:[]},{background:[]}],["bold","italic"],["clean","tags"]],handlers:{tags:me}},clipboard:{matchVisual:!1}}},[])})]})},ie=re},9836:function(Oe,W,t){"use strict";t.r(W),t.d(W,{Setting:function(){return et},default:function(){return St}});var h=t(2299),i=t(67294),l=(0,i.createContext)({});function N(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",o=(0,i.useContext)(l),s=o.prefixCls;return s+f}var Q=t(58024),R=t(39144),te=t(13062),$=t(71230),xe=t(89032),A=t(15746),De=t(57663),H=t(71577),Ne=t(34792),pe=t(48086),ne=t(48736),S=t(27049),G=t(77883),L=t(85482),Y=t(14965),Ee=t(77121),Ce=t(77576),r=t(12028),B=t(22385),q=t(31097),n=t(2824),p=t(28991),ce={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 708c-22.1 0-40-17.9-40-40s17.9-40 40-40 40 17.9 40 40-17.9 40-40 40zm62.9-219.5a48.3 48.3 0 00-30.9 44.8V620c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8v-21.5c0-23.1 6.7-45.9 19.9-64.9 12.9-18.6 30.9-32.8 52.1-40.9 34-13.1 56-41.6 56-72.7 0-44.1-43.1-80-96-80s-96 35.9-96 80v7.6c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V420c0-39.3 17.2-76 48.4-103.3C430.4 290.4 470 276 512 276s81.6 14.5 111.6 40.7C654.8 344 672 380.7 672 420c0 57.8-38.1 109.8-97.1 132.5z"}}]},name:"question-circle",theme:"filled"},K=ce,X=t(27029),J=function(o,s){return i.createElement(X.Z,(0,p.Z)((0,p.Z)({},o),{},{ref:s,icon:K}))};J.displayName="QuestionCircleFilled";var I=i.forwardRef(J),_=t(63185),e=t(85893),T=function(o){var s=o.name,C=o.children,d=function(P){return _jsx(_Checkbox,{checked:P.value,onChange:function(F){P.onChange(F.target.checked)},children:C})};return _jsx(Field,{name:s,component:[d]})},de=t(47673),qe=t(4107),ve=function(o){var s=o.name,C=o.children,d=o.style,x=o.display,P=function(F){return(0,e.jsx)(qe.Z,{value:F.value,style:d,onChange:function(U){F.onChange(U.target.value)},children:C})};return(0,e.jsx)(h.gN,{name:s,component:[P],display:x})},ze=t(71194),le=t(50146),Be=t(7354),ae=t(54531),ye=t(11628),Ve=function(o){var s=o.value,C=o.onChange,d=(0,i.useState)(!1),x=(0,n.Z)(d,2),P=x[0],j=x[1],F=(0,ye.IE)(),D=(0,i.useRef)(null);return(0,e.jsxs)(e.Fragment,{children:[P&&(0,e.jsx)(le.Z,{visible:!0,onCancel:function(){return j(!1)},bodyStyle:{maxHeight:600,overflowY:"auto",padding:0},maskClosable:!1,width:650,onOk:function(){var w;C((0,ae.ZN)((w=D.current)===null||w===void 0?void 0:w.getValues())),j(!1)},children:F.schema?(0,e.jsx)(Be.Z,{ref:D,initialValues:s,schema:F.schema,footerVisible:!1,onSubmit:function(w){console.log(w)}}):"\u95EE\u5377\u4E3A\u7A7A"}),(0,e.jsx)(H.Z,{onClick:function(){return j(!0)},style:{marginLeft:10},type:"dashed",children:s?"\u70B9\u51FB\u4FEE\u6539":"\u70B9\u51FB\u8BBE\u7F6E"})]})},Me=function(o){var s=o.name,C=o.children;return(0,e.jsx)(h.gN,{name:s,component:[Ve]})},Ie=t(17758),Pe=function(o){var s=o.value,C=o.onChange,d=(0,i.useState)(!1),x=(0,n.Z)(d,2),P=x[0],j=x[1];return(0,e.jsxs)(e.Fragment,{children:[P&&(0,e.jsx)(Ie.cM,{value:s,title:"\u63D0\u4EA4\u540E\u56FE\u6587\u5C55\u793A",width:750,onChange:function(D){C(D),j(!1)},onClose:function(){j(!1)}}),(0,e.jsx)(H.Z,{onClick:function(){return j(!0)},style:{marginLeft:10},type:"dashed",children:s?"\u70B9\u51FB\u4FEE\u6539":"\u70B9\u51FB\u8BBE\u7F6E"})]})},re=function(o){var s=o.name,C=o.children;return(0,e.jsx)(h.gN,{name:s,component:[Pe]})},ie=function(o){var s=o.name,C=function(x){return(0,e.jsx)(r.Z,{checked:x.value,onChange:function(j){x.onChange(j)}})};return(0,e.jsx)(h.gN,{name:s,component:[C]})},b=t(64031),v=t(90586),a=(0,h.Pi)(function(){var f,o,s,C,d=(0,ye.IE)(),x=(0,i.useMemo)(function(){return(0,b.Np)({initialValues:d.setting})},[d.setting]),P=(0,i.useState)(!!((f=d.setting)!==null&&f!==void 0&&f.answerSetting.password)),j=(0,n.Z)(P,2),F=j[0],D=j[1],U=(0,i.useState)(!!((o=d.setting)!==null&&o!==void 0&&o.answerSetting.initialValues)),w=(0,n.Z)(U,2),V=w[0],M=w[1],He=(0,i.useState)(!!((s=d.setting)!==null&&s!==void 0&&s.answerSetting.endTime)),Ue=(0,n.Z)(He,2),ge=Ue[0],Ke=Ue[1],$e=(0,i.useState)(!!((C=d.setting)!==null&&C!==void 0&&C.answerSetting.maxAnswers)),Ae=(0,n.Z)($e,2),Fe=Ae[0],m=Ae[1];return(0,i.useEffect)(function(){var y;D(!!((y=d.setting)!==null&&y!==void 0&&y.answerSetting.password))},[d.setting]),(0,i.useEffect)(function(){x.setFieldState("answerSetting.password",function(y){return y.display=F?"visible":"none"})},[F,x]),(0,i.useEffect)(function(){x.setFieldState("answerSetting.initialValues",function(y){return y.display=V?"visible":"none"})},[V,x]),(0,i.useEffect)(function(){x.setFieldState("answerSetting.endTime",function(y){return y.display=ge?"visible":"none"})},[ge,x]),(0,i.useEffect)(function(){x.setFieldState("answerSetting.maxAnswers",function(y){return y.display=Fe?"visible":"none"})},[Fe,x]),(0,e.jsx)(h.RV,{form:x,children:(0,e.jsx)(h.Wo,{name:"answerSetting",children:(0,e.jsx)("div",{children:(0,e.jsxs)(R.Z,{title:"\u586B\u5199\u8BBE\u7F6E",className:"answer-setting",children:[(0,e.jsxs)("div",{className:"setting-item",children:[(0,e.jsxs)("div",{className:"setting-item-switch",children:[(0,e.jsxs)("span",{children:["\u51ED\u5BC6\u7801\u586B\u5199",(0,e.jsx)(q.Z,{overlay:"\u53EA\u6709\u8F93\u5165\u5BC6\u7801\u624D\u80FD\u586B\u5199\u95EE\u5377",children:(0,e.jsx)(I,{className:"setting-prompt"})})]}),(0,e.jsx)(r.Z,{checked:F,onChange:function(z){D(z)}})]}),(0,e.jsx)("div",{className:"setting-item-content",children:(0,e.jsx)(ve,{style:{width:200,marginLeft:20},name:"password"})})]}),(0,e.jsx)("div",{className:"setting-item",children:(0,e.jsxs)("div",{className:"setting-item-switch",children:[(0,e.jsxs)("span",{children:["\u5F00\u542F\u81EA\u52A8\u6682\u5B58",(0,e.jsx)(q.Z,{overlay:"\u52FE\u9009\u540E\uFF0C\u53EF\u4EE5\u81EA\u52A8\u4FDD\u5B58\u672C\u6B21\u672A\u63D0\u4EA4\u7684\u586B\u5199\u5185\u5BB9\uFF0C\u518D\u6B21\u6253\u5F00\u95EE\u5377\u53EF\u663E\u793A\u4E0A\u6B21\u672A\u63D0\u4EA4\u7684\u586B\u5199\u5185\u5BB9\u3002",children:(0,e.jsx)(I,{className:"setting-prompt"})})]}),(0,e.jsx)(ie,{name:"autoSave"})]})}),(0,e.jsx)("div",{className:"setting-item",children:(0,e.jsxs)("div",{className:"setting-item-switch",children:[(0,e.jsxs)("span",{children:["\u9700\u8981\u767B\u5F55",(0,e.jsx)(q.Z,{overlay:"\u52FE\u9009\u540E\uFF0C\u53EA\u6709\u767B\u5F55\u7528\u6237\u624D\u53EF\u4EE5\u586B\u5199\u95EE\u5377\u3002",children:(0,e.jsx)(I,{className:"setting-prompt"})})]}),(0,e.jsx)(ie,{name:"loginRequired"})]})}),(0,e.jsx)("div",{className:"setting-item",children:(0,e.jsxs)("div",{className:"setting-item-switch",children:[(0,e.jsxs)("span",{children:["\u9700\u8981\u767B\u5F55",(0,e.jsx)(q.Z,{overlay:"\u52FE\u9009\u540E\uFF0C\u53EA\u6709\u767B\u5F55\u7528\u6237\u624D\u53EF\u4EE5\u586B\u5199\u95EE\u5377\u3002",children:(0,e.jsx)(I,{className:"setting-prompt"})})]}),(0,e.jsx)(ie,{name:"loginRequired"})]})}),(0,e.jsx)("div",{className:"setting-item",children:(0,e.jsxs)("div",{className:"setting-item-switch",children:[(0,e.jsxs)("span",{children:["\u663E\u793A\u9898\u76EE\u5E8F\u53F7",(0,e.jsx)(q.Z,{overlay:"\u52FE\u9009\u540E\uFF0C\u95EE\u5377\u4E2D\u7684\u9898\u76EE\u4F1A\u6309\u6392\u5217\u987A\u5E8F\u4ECE1\u5F00\u59CB\u663E\u793A\u9898\u76EE\u5E8F\u53F7\u3002",children:(0,e.jsx)(I,{className:"setting-prompt"})})]}),(0,e.jsx)(ie,{name:"questionNumber"})]})}),(0,e.jsx)("div",{className:"setting-item",children:(0,e.jsxs)("div",{className:"setting-item-switch",children:[(0,e.jsxs)("span",{children:["\u663E\u793A\u8FDB\u5EA6\u6761",(0,e.jsx)(q.Z,{overlay:"\u52FE\u9009\u540E\uFF0C\u586B\u5199\u8005\u6ED1\u52A8\u9875\u9762\u53EF\u4EE5\u770B\u5230\u5F53\u524D\u95EE\u5377\u586B\u5199\u8FDB\u5EA6\u3002",children:(0,e.jsx)(I,{className:"setting-prompt"})})]}),(0,e.jsx)(ie,{name:"progressBar"})]})}),(0,e.jsx)("div",{className:"setting-item",children:(0,e.jsxs)("div",{className:"setting-item-switch",children:[(0,e.jsxs)("span",{children:["\u5141\u8BB8\u4FEE\u6539\u7B54\u6848",(0,e.jsx)(q.Z,{overlay:"\u52FE\u9009\u540E\uFF0C\u518D\u6B21\u6253\u5F00\u95EE\u5377\u4F1A\u56DE\u663E\u4E4B\u524D\u586B\u5199\u7684\u7B54\u6848\uFF0C\u5E76\u4E14\u53EF\u4EE5\u4FEE\u6539\u3002",children:(0,e.jsx)(I,{className:"setting-prompt"})})]}),(0,e.jsx)(ie,{name:"enableUpdate"})]})}),(0,e.jsxs)("div",{className:"setting-item",children:[(0,e.jsxs)("div",{className:"setting-item-switch",children:[(0,e.jsxs)("span",{children:["\u8BBE\u7F6E\u95EE\u5377\u9ED8\u8BA4\u7B54\u6848",(0,e.jsx)(q.Z,{overlay:"\u8BBE\u7F6E\u7684\u7B54\u6848\u5C06\u4F5C\u4E3A\u9ED8\u8BA4\u7B54\u6848\u5E26\u5165\u95EE\u5377",children:(0,e.jsx)(I,{className:"setting-prompt"})})]}),(0,e.jsx)(r.Z,{checked:V,onChange:function(z){M(z)}})]}),(0,e.jsx)("div",{className:"setting-item-content",children:(0,e.jsx)(Me,{name:"initialValues"})})]}),(0,e.jsxs)("div",{className:"setting-item",children:[(0,e.jsxs)("div",{className:"setting-item-switch",children:[(0,e.jsx)("span",{children:"\u8BBE\u7F6E\u95EE\u5377\u7ED3\u675F\u65F6\u95F4"}),(0,e.jsx)(r.Z,{checked:ge,onChange:function(z){Ke(z)}})]}),(0,e.jsx)("div",{className:"setting-item-content",children:(0,e.jsx)(v.P,{name:"endTime",isMoment:!0,children:(0,e.jsx)(Ee.Z,{showTime:!0})})})]}),(0,e.jsxs)("div",{className:"setting-item",children:[(0,e.jsxs)("div",{className:"setting-item-switch",children:[(0,e.jsx)("span",{children:"\u8BBE\u7F6E\u95EE\u5377\u56DE\u6536\u4E0A\u9650"}),(0,e.jsx)(r.Z,{checked:Fe,onChange:function(z){m(z)}})]}),(0,e.jsx)("div",{className:"setting-item-content",children:Fe&&(0,e.jsxs)(e.Fragment,{children:["\u56DE\u6536",(0,e.jsx)(v.P,{name:"maxAnswers",children:(0,e.jsx)(L.Z,{size:"small",style:{margin:"0 5px"},min:1})}),"\u4EFD\u95EE\u5377\u540E\uFF0C\u505C\u6B62\u6536\u96C6"]})})]}),(0,e.jsx)($.Z,{gutter:[10,25],children:(0,e.jsxs)(A.Z,{span:24,children:[(0,e.jsx)(S.Z,{}),(0,e.jsx)(H.Z,{type:"primary",onClick:function(){d.updateSetting((0,ae.ZN)(x.values)).then(function(z){z.success&&pe.default.success("\u8BBE\u7F6E\u4FDD\u5B58\u6210\u529F")})},children:"\u4FDD\u5B58\u8BBE\u7F6E"})]})})]})})})})}),c=t(54421),E=t(38272),g=t(94233),Z=t(51890),u=t(49111),k=t(19650),O=t(71153),oe=t(60331),je=t(62999),Se=t(51753),Ze=t(86582),Te=t(43358),fe=t(97268),Re=t(18106),ke=t(67164),me=t(68489),he=t(60780),se=t.n(he),ue=t(49101),Le=fe.Z.Option,be=(0,h.Pi)(function(f){var o=f.onChange,s=f.orgTreeData,C=f.positions,d=(0,i.useState)(),x=(0,n.Z)(d,2),P=x[0],j=x[1],F=(0,i.useState)(),D=(0,n.Z)(F,2),U=D[0],w=D[1];return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)($.Z,{gutter:10,children:[(0,e.jsx)(A.Z,{span:16,children:(0,e.jsx)(Se.Z,{onChange:function(M){return j(M)},style:{width:"100%"},dropdownStyle:{maxHeight:400,overflow:"auto"},treeData:[{title:"\u53D1\u8D77\u4EBA\u5F53\u524D\u90E8\u95E8",value:"${currentOrgId}",key:"${currentOrgId}"},{title:"\u53D1\u8D77\u4EBA\u4E0A\u7EA7\u90E8\u95E8",value:"${parentOrgId}",key:"${parentOrgId}"}].concat((0,Ze.Z)(s)),placeholder:"\u8BF7\u9009\u62E9\u673A\u6784",treeDefaultExpandAll:!0,allowClear:!0,value:P})}),(0,e.jsx)(A.Z,{span:8,children:(0,e.jsx)(fe.Z,{style:{width:"100%"},placeholder:"\u8BF7\u9009\u62E9\u5C97\u4F4D",allowClear:!0,value:U,onChange:function(M){return w(M)},children:C.map(function(V){return(0,e.jsx)(Le,{value:V.id,children:V.name},V.id)})})})]}),(0,e.jsx)($.Z,{style:{marginTop:10},children:(0,e.jsx)(A.Z,{children:(0,e.jsx)(H.Z,{icon:(0,e.jsx)(ue.Z,{}),onClick:function(){(P||U)&&o("P:".concat(P||"",":").concat(U||""))},children:"\u6DFB\u52A0"})})})]})}),We=ke.Z.TabPane,Qe=fe.Z.Option,nt=(0,h.Pi)(function(f){var o=f.onChange,s=f.tabs,C=s===void 0?["user","role","position"]:s,d=(0,me.m2)(),x=(0,i.useState)(f.value||[]),P=(0,n.Z)(x,2),j=P[0],F=P[1];(0,i.useEffect)(function(){F(f.value||[])},[f.value]);var D=(0,me.LF)(j),U=d.depts,w=d.users,V=d.roles,M=d.positions,He=(0,i.useState)(),Ue=(0,n.Z)(He,2),ge=Ue[0],Ke=Ue[1];(0,i.useEffect)(function(){ge&&d.loadUsers({orgId:ge,pageSize:1024})},[ge,d]);var $e=(0,i.useMemo)(function(){return se()(U.map(function(m){return{value:m.id,title:m.name,key:m.id,parentId:m.parentId}}),{parentProperty:"parentId",customID:"value"})},[U]),Ae=function(y){var z=(0,Ze.Z)(j);y.forEach(function(ee){z.includes(ee)||z.push(ee)}),F(z),o(z)},Fe=function(){for(var y=arguments.length,z=new Array(y),ee=0;ee<y;ee++)z[ee]=arguments[ee];var we=(0,Ze.Z)(j.filter(function(tt){return!z.includes(tt)}));F(we),o(we)};return(0,e.jsx)("div",{style:{width:400},children:(0,e.jsxs)(ke.Z,{defaultActiveKey:"user",children:[(0,e.jsx)(We,{tab:"\u6210\u5458",disabled:!C.includes("user"),children:(0,e.jsxs)("div",{style:{height:400,overflowY:"auto",overflowX:"hidden"},children:[(0,e.jsxs)($.Z,{gutter:20,children:[(0,e.jsx)(A.Z,{span:16,children:(0,e.jsx)(Se.Z,{onChange:function(y){return Ke(y)},style:{width:"100%"},dropdownStyle:{maxHeight:400,overflow:"auto"},treeData:$e,placeholder:"\u8BF7\u9009\u62E9\u673A\u6784",treeDefaultExpandAll:!0,allowClear:!0})}),(0,e.jsx)(A.Z,{span:8,children:(0,e.jsx)(fe.Z,{style:{width:"100%"},placeholder:"\u8BF7\u9009\u62E9\u6210\u5458",allowClear:!0,showSearch:!0,mode:"multiple",onChange:function(y){return Ae(y)},maxTagCount:0,value:j.filter(function(m){return m.startsWith("U:")}),dropdownRender:function(y){return(0,e.jsxs)("div",{children:[y,(0,e.jsx)(S.Z,{style:{margin:"4px 0"}}),(0,e.jsx)("div",{style:{display:"flex",flexWrap:"nowrap",padding:8},children:(0,e.jsx)(H.Z,{size:"small",type:"link",onClick:function(){return Ae(w.map(function(ee){return"U:".concat(ee.id)}))},children:"\u5168\u9009"})})]})},children:w.map(function(m){return(0,e.jsx)(Qe,{value:"U:".concat(m.id),children:m.name},m.id)})})})]}),(0,e.jsx)(k.Z,{style:{marginTop:20},wrap:!0,children:j.filter(function(m){return m.startsWith("U:")}).map(function(m){return(0,e.jsx)(oe.Z,{closable:!0,color:"blue",onClose:function(){return Fe(m)},children:D.user[m.split(":")[1]]},m)})})]})},"user"),(0,e.jsx)(We,{tab:"\u89D2\u8272",disabled:!C.includes("role"),children:(0,e.jsxs)("div",{style:{height:400,overflowY:"auto",overflowX:"hidden"},children:[(0,e.jsx)(fe.Z,{style:{width:"100%"},placeholder:"\u8BF7\u9009\u62E9\u89D2\u8272",allowClear:!0,showSearch:!0,mode:"multiple",value:j.filter(function(m){return m.startsWith("R:")}),onChange:function(y){return Ae(y)},maxTagCount:0,children:V.map(function(m){return(0,e.jsx)(Qe,{value:"R:".concat(m.id),children:m.name},m.id)})}),(0,e.jsx)(k.Z,{style:{marginTop:20},wrap:!0,children:j.filter(function(m){return m.startsWith("R:")}).map(function(m){return(0,e.jsx)(oe.Z,{closable:!0,color:"blue",onClose:function(){return Fe(m)},children:D.role[m.split(":")[1]]},m)})})]})},"role"),(0,e.jsx)(We,{tab:"\u673A\u6784\u5C97\u4F4D",disabled:!C.includes("position"),children:(0,e.jsxs)("div",{style:{height:400,overflowY:"auto",overflowX:"hidden"},children:[(0,e.jsx)(be,{positions:M,orgTreeData:$e,onChange:function(y){return Ae([y])}}),(0,e.jsx)(k.Z,{style:{marginTop:20},wrap:!0,children:j.filter(function(m){return m.startsWith("P:")}).map(function(m){var y=m.split(":"),z=(0,n.Z)(y,3),ee=z[1],we=z[2];return(0,e.jsxs)(oe.Z,{closable:!0,color:"blue",onClose:function(){return Fe(m)},children:[D.org[ee],"-",D.position[we]]},ee+":"+we)})})]})},"position")]})})}),lt=nt,at=function(o){var s=(0,i.useState)([]),C=(0,n.Z)(s,2),d=C[0],x=C[1];return(0,e.jsx)(le.Z,{title:"\u8BBE\u7F6E\u534F\u4F5C\u7BA1\u7406\u5458",visible:!0,onCancel:o.onCancel,onOk:function(){return o.onOk(d)},children:(0,e.jsx)(lt,{tabs:["user"],onChange:function(j){x(j.map(function(F){return F.split(":")[1]}))}})})},rt=function(){var o=(0,ye.IE)(),s=o.id,C=(0,i.useState)([]),d=(0,n.Z)(C,2),x=d[0],P=d[1],j=(0,i.useState)(!1),F=(0,n.Z)(j,2),D=F[0],U=F[1],w=function(){return me.hi.getProjectPartner(s).then(function(M){M&&P(M)})};return(0,i.useEffect)(function(){w()},[]),(0,e.jsxs)("div",{children:[(0,e.jsx)(R.Z,{title:(0,e.jsxs)(e.Fragment,{children:["\u534F\u4F5C\u7BA1\u7406\u5458\u5217\u8868",(0,e.jsx)(q.Z,{overlay:"\u534F\u4F5C\u8005\u53EF\u4EE5\u534F\u52A9\u521B\u5EFA\u8005\u8FDB\u884C\u7F16\u8F91\u95EE\u5377\u3001\u7BA1\u7406\u6570\u636E\u7B49\u64CD\u4F5C\u3002",children:(0,e.jsx)(I,{className:"setting-prompt",style:{marginLeft:5}})})]}),extra:(0,e.jsx)("a",{href:"#",onClick:function(){return U(!0)},children:"\u8BBE\u7F6E\u534F\u4F5C\u7BA1\u7406\u5458"}),children:(0,e.jsx)(E.ZP,{itemLayout:"horizontal",dataSource:x,renderItem:function(M){return(0,e.jsxs)(E.ZP.Item,{actions:M.type!==1?[(0,e.jsx)("a",{onClick:function(){le.Z.confirm({title:"\u5220\u9664\u534F\u4F5C\u8005",content:(0,e.jsxs)("div",{children:["\u786E\u5B9A\u5220\u9664\u534F\u4F5C\u8005 ",(0,e.jsx)("b",{children:M.user.name}),"\u5417\uFF1F"]}),onOk:function(){me.hi.deleteProjectPartner(M.id,s).then(function(ge){ge.success&&w()})}})},children:"\u5220\u9664"},"list-loadmore-edit")]:[],children:[(0,e.jsx)(E.ZP.Item.Meta,{avatar:(0,e.jsx)(Z.C,{src:M.user.avatar?"/api/public/preview/".concat(M.user.avatar):""}),title:M.user.name}),(0,e.jsx)("div",{children:M.type===1?"\u521B\u5EFA\u8005":"\u534F\u4F5C\u8005"})]})}})}),D&&(0,e.jsx)(at,{onCancel:function(){return U(!1)},onOk:function(M){me.hi.addProjectPartner({userIds:M,projectId:s}).then(function(){w(),U(!1)})}})]})},Ge=t(11849),it=(0,h.Pi)(function(){var f,o,s=(0,ye.IE)(),C=(0,i.useMemo)(function(){return(0,b.Np)({initialValues:s.setting})},[s.setting]),d=(0,i.useState)(!!((f=s.setting)!==null&&f!==void 0&&(o=f.submittedSetting)!==null&&o!==void 0&&o.contentHtml)),x=(0,n.Z)(d,2),P=x[0],j=x[1];return(0,i.useEffect)(function(){C.setFieldState("submittedSetting.contentHtml",function(F){return F.display=P?"visible":"none"})},[P,C]),(0,e.jsx)(h.RV,{form:C,children:(0,e.jsx)(h.Wo,{name:"submittedSetting",children:(0,e.jsx)("div",{children:(0,e.jsxs)(R.Z,{title:"\u586B\u5199\u8005\u63D0\u4EA4\u95EE\u5377\u540E",className:"submitted-setting",children:[(0,e.jsxs)("div",{className:"setting-item",children:[(0,e.jsxs)("div",{className:"setting-item-switch",children:[(0,e.jsxs)("span",{children:["\u63D0\u4EA4\u540E\u56FE\u6587\u5C55\u793A",(0,e.jsx)(q.Z,{overlay:"\u4F60\u53EF\u4EE5\u5728\u8868\u5355\u63D0\u4EA4\u9875\u9762\u8BBE\u7F6E\u66F4\u4E3A\u4E30\u5BCC\u591A\u5F69\u7684\u5185\u5BB9\uFF0C\u5305\u62EC\u63D2\u5165\u56FE\u7247\u3001\u8BBE\u7F6E\u5B57\u53F7\u3001\u5B57\u4F53\u989C\u8272\u3001\u5E8F\u53F7\u3001\u8BBE\u7F6E\u8D85\u94FE\u63A5\u7B49\u7B49\u3002",children:(0,e.jsx)(I,{className:"setting-prompt"})})]}),(0,e.jsx)(r.Z,{checked:P,onChange:function(D){j(D)}})]}),(0,e.jsx)("div",{className:"setting-item-content",children:(0,e.jsx)(re,{name:"contentHtml"})})]}),(0,e.jsx)($.Z,{gutter:[10,15],children:(0,e.jsxs)(A.Z,{span:24,children:[(0,e.jsx)(S.Z,{}),(0,e.jsx)(H.Z,{type:"primary",onClick:function(){s.updateSetting((0,Ge.Z)((0,Ge.Z)({},s.setting),(0,ae.ZN)(C.values))).then(function(D){D.success&&pe.default.success("\u8BBE\u7F6E\u4FDD\u5B58\u6210\u529F")})},children:"\u4FDD\u5B58\u8BBE\u7F6E"})]})})]})})})})}),ot=(0,h.Pi)(function(){var f=(0,i.useContext)(l),o=f.settingStore,s=o.activePanel,C=function(){if(s==="answerSetting")return(0,e.jsx)(a,{});if(s==="memberSetting")return(0,e.jsx)(rt,{});if(s==="submittedSetting")return(0,e.jsx)(it,{})},d=N("-content");return(0,e.jsx)("div",{className:d,children:C()})}),Zt=t(7359),Ye=t(27279),st=t(8212),ut={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M824.2 699.9a301.55 301.55 0 00-86.4-60.4C783.1 602.8 812 546.8 812 484c0-110.8-92.4-201.7-203.2-200-109.1 1.7-197 90.6-197 200 0 62.8 29 118.8 74.2 155.5a300.95 300.95 0 00-86.4 60.4C345 754.6 314 826.8 312 903.8a8 8 0 008 8.2h56c4.3 0 7.9-3.4 8-7.7 1.9-58 25.4-112.3 66.7-153.5A226.62 226.62 0 01612 684c60.9 0 118.2 23.7 161.3 66.8C814.5 792 838 846.3 840 904.3c.1 4.3 3.7 7.7 8 7.7h56a8 8 0 008-8.2c-2-77-33-149.2-87.8-203.9zM612 612c-34.2 0-66.4-13.3-90.5-37.5a126.86 126.86 0 01-37.5-91.8c.3-32.8 13.4-64.5 36.3-88 24-24.6 56.1-38.3 90.4-38.7 33.9-.3 66.8 12.9 91 36.6 24.8 24.3 38.4 56.8 38.4 91.4 0 34.2-13.3 66.3-37.5 90.5A127.3 127.3 0 01612 612zM361.5 510.4c-.9-8.7-1.4-17.5-1.4-26.4 0-15.9 1.5-31.4 4.3-46.5.7-3.6-1.2-7.3-4.5-8.8-13.6-6.1-26.1-14.5-36.9-25.1a127.54 127.54 0 01-38.7-95.4c.9-32.1 13.8-62.6 36.3-85.6 24.7-25.3 57.9-39.1 93.2-38.7 31.9.3 62.7 12.6 86 34.4 7.9 7.4 14.7 15.6 20.4 24.4 2 3.1 5.9 4.4 9.3 3.2 17.6-6.1 36.2-10.4 55.3-12.4 5.6-.6 8.8-6.6 6.3-11.6-32.5-64.3-98.9-108.7-175.7-109.9-110.9-1.7-203.3 89.2-203.3 199.9 0 62.8 28.9 118.8 74.2 155.5-31.8 14.7-61.1 35-86.5 60.4-54.8 54.7-85.8 126.9-87.8 204a8 8 0 008 8.2h56.1c4.3 0 7.9-3.4 8-7.7 1.9-58 25.4-112.3 66.7-153.5 29.4-29.4 65.4-49.8 104.7-59.7 3.9-1 6.5-4.7 6-8.7z"}}]},name:"team",theme:"outlined"},ct=ut,Xe=function(o,s){return i.createElement(X.Z,(0,p.Z)((0,p.Z)({},o),{},{ref:s,icon:ct}))};Xe.displayName="TeamOutlined";var dt=i.forwardRef(Xe),vt={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64L128 192v384c0 212.1 171.9 384 384 384s384-171.9 384-384V192L512 64zm312 512c0 172.3-139.7 312-312 312S200 748.3 200 576V246l312-110 312 110v330z"}},{tag:"path",attrs:{d:"M378.4 475.1a35.91 35.91 0 00-50.9 0 35.91 35.91 0 000 50.9l129.4 129.4 2.1 2.1a33.98 33.98 0 0048.1 0L730.6 434a33.98 33.98 0 000-48.1l-2.8-2.8a33.98 33.98 0 00-48.1 0L483 579.7 378.4 475.1z"}}]},name:"safety",theme:"outlined"},ft=vt,Je=function(o,s){return i.createElement(X.Z,(0,p.Z)((0,p.Z)({},o),{},{ref:s,icon:ft}))};Je.displayName="SafetyOutlined";var mt=i.forwardRef(Je),ht=t(25782),bt=t(94184),gt=t.n(bt),_e=Ye.Z.Panel,xt=[{key:"answerSetting",title:"\u6570\u636E\u6536\u96C6\u8BBE\u7F6E",icon:(0,e.jsx)(st.Z,{}),description:"\u57FA\u672C\u7684\u95EE\u5377\u586B\u5199\u8BBE\u7F6E"},{key:"memberSetting",title:"\u534F\u540C\u7F16\u8F91",icon:(0,e.jsx)(dt,{}),description:"\u8BBE\u7F6E\u534F\u4F5C\u7BA1\u7406\u5458"},{key:"submittedSetting",title:"\u63D0\u4EA4\u95EE\u5377\u6570\u636E\u540E",icon:(0,e.jsx)(mt,{}),description:"\u95EE\u5377\u63D0\u4EA4\u5B8C\u6210\u9875\u9762\u8BBE\u7F6E"}],pt=(0,h.Pi)(function(){var f=N("-nav"),o=(0,i.useContext)(l),s=o.settingStore,C=s.activePanel;return(0,e.jsx)("div",{className:f,children:(0,e.jsxs)(Ye.Z,{accordion:!0,expandIcon:function(x){var P=x.isActive;return(0,e.jsx)(ht.Z,{rotate:P?90:0})},defaultActiveKey:"1",children:[(0,e.jsx)(_e,{header:"\u57FA\u7840\u8BBE\u7F6E",style:{padding:0},children:xt.map(function(d){return(0,e.jsxs)($.Z,{className:gt()("nav-panel-item",{active:C===d.key}),onClick:function(){return s.activePanel=d.key},children:[(0,e.jsx)(A.Z,{span:4,children:(0,e.jsx)(Z.C,{icon:d.icon,shape:"square"})}),(0,e.jsx)(A.Z,{span:20,children:(0,e.jsxs)($.Z,{children:[(0,e.jsx)(A.Z,{span:24,children:d.title}),(0,e.jsx)(A.Z,{span:24,children:d.description})]})})]},d.key)})},"1"),(0,e.jsx)(_e,{header:"\u9AD8\u7EA7\u8BBE\u7F6E",children:(0,e.jsx)("p",{children:"todo"})},"2")]})})}),Et=t(69610),Ct=t(54941),qt=function(){function f(o){(0,Et.Z)(this,f),this.rootStore=void 0,this.activePanel=void 0,this.rootStore=o,this.activePanel="answerSetting",this.makeObservable()}return(0,Ct.Z)(f,[{key:"makeObservable",value:function(){(0,ae.Ou)(this,{rootStore:ae.LO.ref,activePanel:ae.LO.ref})}}]),f}(),yt=t(77613),jt=t(27400),et=(0,yt.P)(function(){var f=(0,ye.IE)(),o=(0,jt.a)(),s=o.isMobile,C=(0,i.useMemo)(function(){return new qt(f)},[f]);return(0,e.jsx)(l.Provider,{value:{prefixCls:"survey-setting",settingStore:C},children:(0,e.jsxs)("div",{className:"survey-setting",children:[!s&&(0,e.jsx)(pt,{}),(0,e.jsx)(ot,{})]})})}),St=et},11628:function(Oe,W,t){"use strict";t.d(W,{xI:function(){return i},Ge:function(){return Q},IE:function(){return N}});var h=t(67294),i=(0,h.createContext)({}),l=i.Provider;function N(){var R=(0,h.useContext)(i);return R.store}function Q(){var R=N();return R.flowStore}},39144:function(Oe,W,t){"use strict";t.d(W,{Z:function(){return Ce}});var h=t(96156),i=t(22122),l=t(67294),N=t(94184),Q=t.n(N),R=t(98423),te=t(65632),$=function(r,B){var q={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&B.indexOf(n)<0&&(q[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var p=0,n=Object.getOwnPropertySymbols(r);p<n.length;p++)B.indexOf(n[p])<0&&Object.prototype.propertyIsEnumerable.call(r,n[p])&&(q[n[p]]=r[n[p]]);return q},xe=function(B){var q=B.prefixCls,n=B.className,p=B.hoverable,ce=p===void 0?!0:p,K=$(B,["prefixCls","className","hoverable"]);return l.createElement(te.C,null,function(X){var J=X.getPrefixCls,I=J("card",q),_=Q()("".concat(I,"-grid"),n,(0,h.Z)({},"".concat(I,"-grid-hoverable"),ce));return l.createElement("div",(0,i.Z)({},K,{className:_}))})},A=xe,De=function(r,B){var q={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&B.indexOf(n)<0&&(q[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var p=0,n=Object.getOwnPropertySymbols(r);p<n.length;p++)B.indexOf(n[p])<0&&Object.prototype.propertyIsEnumerable.call(r,n[p])&&(q[n[p]]=r[n[p]]);return q},H=function(B){return l.createElement(te.C,null,function(q){var n=q.getPrefixCls,p=B.prefixCls,ce=B.className,K=B.avatar,X=B.title,J=B.description,I=De(B,["prefixCls","className","avatar","title","description"]),_=n("card",p),e=Q()("".concat(_,"-meta"),ce),T=K?l.createElement("div",{className:"".concat(_,"-meta-avatar")},K):null,de=X?l.createElement("div",{className:"".concat(_,"-meta-title")},X):null,qe=J?l.createElement("div",{className:"".concat(_,"-meta-description")},J):null,ve=de||qe?l.createElement("div",{className:"".concat(_,"-meta-detail")},de,qe):null;return l.createElement("div",(0,i.Z)({},I,{className:e}),T,ve)})},Ne=H,pe=t(67164),ne=t(71230),S=t(15746),G=t(97647),L=function(r,B){var q={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&B.indexOf(n)<0&&(q[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var p=0,n=Object.getOwnPropertySymbols(r);p<n.length;p++)B.indexOf(n[p])<0&&Object.prototype.propertyIsEnumerable.call(r,n[p])&&(q[n[p]]=r[n[p]]);return q};function Y(r){var B=r.map(function(q,n){return l.createElement("li",{style:{width:"".concat(100/r.length,"%")},key:"action-".concat(n)},l.createElement("span",null,q))});return B}var Ee=l.forwardRef(function(r,B){var q,n,p=l.useContext(te.E_),ce=p.getPrefixCls,K=p.direction,X=l.useContext(G.Z),J=function(Le){var be;(be=r.onTabChange)===null||be===void 0||be.call(r,Le)},I=function(){var Le;return l.Children.forEach(r.children,function(be){be&&be.type&&be.type===A&&(Le=!0)}),Le},_=r.prefixCls,e=r.className,T=r.extra,de=r.headStyle,qe=de===void 0?{}:de,ve=r.bodyStyle,ze=ve===void 0?{}:ve,le=r.title,Be=r.loading,ae=r.bordered,ye=ae===void 0?!0:ae,Ve=r.size,Me=r.type,Ie=r.cover,Pe=r.actions,re=r.tabList,ie=r.children,b=r.activeTabKey,v=r.defaultActiveTabKey,a=r.tabBarExtraContent,c=r.hoverable,E=r.tabProps,g=E===void 0?{}:E,Z=L(r,["prefixCls","className","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),u=ce("card",_),k=ze.padding===0||ze.padding==="0px"?{padding:24}:void 0,O=l.createElement("div",{className:"".concat(u,"-loading-block")}),oe=l.createElement("div",{className:"".concat(u,"-loading-content"),style:k},l.createElement(ne.Z,{gutter:8},l.createElement(S.Z,{span:22},O)),l.createElement(ne.Z,{gutter:8},l.createElement(S.Z,{span:8},O),l.createElement(S.Z,{span:15},O)),l.createElement(ne.Z,{gutter:8},l.createElement(S.Z,{span:6},O),l.createElement(S.Z,{span:18},O)),l.createElement(ne.Z,{gutter:8},l.createElement(S.Z,{span:13},O),l.createElement(S.Z,{span:9},O)),l.createElement(ne.Z,{gutter:8},l.createElement(S.Z,{span:4},O),l.createElement(S.Z,{span:3},O),l.createElement(S.Z,{span:16},O))),je=b!==void 0,Se=(0,i.Z)((0,i.Z)({},g),(q={},(0,h.Z)(q,je?"activeKey":"defaultActiveKey",je?b:v),(0,h.Z)(q,"tabBarExtraContent",a),q)),Ze,Te=re&&re.length?l.createElement(pe.Z,(0,i.Z)({size:"large"},Se,{className:"".concat(u,"-head-tabs"),onChange:J}),re.map(function(ue){return l.createElement(pe.Z.TabPane,{tab:ue.tab,disabled:ue.disabled,key:ue.key})})):null;(le||T||Te)&&(Ze=l.createElement("div",{className:"".concat(u,"-head"),style:qe},l.createElement("div",{className:"".concat(u,"-head-wrapper")},le&&l.createElement("div",{className:"".concat(u,"-head-title")},le),T&&l.createElement("div",{className:"".concat(u,"-extra")},T)),Te));var fe=Ie?l.createElement("div",{className:"".concat(u,"-cover")},Ie):null,Re=l.createElement("div",{className:"".concat(u,"-body"),style:ze},Be?oe:ie),ke=Pe&&Pe.length?l.createElement("ul",{className:"".concat(u,"-actions")},Y(Pe)):null,me=(0,R.Z)(Z,["onTabChange"]),he=Ve||X,se=Q()(u,(n={},(0,h.Z)(n,"".concat(u,"-loading"),Be),(0,h.Z)(n,"".concat(u,"-bordered"),ye),(0,h.Z)(n,"".concat(u,"-hoverable"),c),(0,h.Z)(n,"".concat(u,"-contain-grid"),I()),(0,h.Z)(n,"".concat(u,"-contain-tabs"),re&&re.length),(0,h.Z)(n,"".concat(u,"-").concat(he),he),(0,h.Z)(n,"".concat(u,"-type-").concat(Me),!!Me),(0,h.Z)(n,"".concat(u,"-rtl"),K==="rtl"),n),e);return l.createElement("div",(0,i.Z)({ref:B},me,{className:se}),Ze,fe,Re,ke)});Ee.Grid=A,Ee.Meta=Ne;var Ce=Ee},58024:function(Oe,W,t){"use strict";var h=t(38663),i=t.n(h),l=t(70347),N=t.n(l),Q=t(18106),R=t(13062),te=t(89032)}}]);
