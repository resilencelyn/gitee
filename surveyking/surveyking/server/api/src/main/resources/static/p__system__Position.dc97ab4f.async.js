(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[5382],{64317:function(F,c,e){"use strict";var a=e(95395),l=e(99653),d=e(97445),C=e(67294),K=e(63198),b=e(22270),j=e(66758),N=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],f=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],r=C.forwardRef(function(n,Z){var x=n.fieldProps,v=n.children,h=n.params,_=n.proFieldProps,L=n.mode,O=n.valueEnum,R=n.request,B=n.showSearch,I=n.options,s=(0,d.Z)(n,N),A=(0,C.useContext)(j.Z);return C.createElement(K.Z,(0,a.Z)({mode:"edit",valueEnum:(0,b.h)(O),request:R,params:h,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,l.Z)({options:I,mode:L,showSearch:B,getPopupContainer:A.getPopupContainer},x),ref:Z,proFieldProps:_},s),v)}),E=C.forwardRef(function(n,Z){var x=n.fieldProps,v=n.children,h=n.params,_=n.proFieldProps,L=n.mode,O=n.valueEnum,R=n.request,B=n.options,I=(0,d.Z)(n,f),s=(0,l.Z)({options:B,mode:L||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},x),A=(0,C.useContext)(j.Z);return C.createElement(K.Z,(0,a.Z)({mode:"edit",valueEnum:(0,b.h)(O),request:R,params:h,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,l.Z)({getPopupContainer:A.getPopupContainer},s),ref:Z,proFieldProps:_},I),v)}),t=r,p=E,T=t;T.SearchSelect=p,T.displayName="ProFormComponent",c.Z=T},68179:function(){},64080:function(F,c,e){"use strict";e.r(c),e.d(c,{default:function(){return X}});var a=e(57663),l=e(71577),d=e(3182),C=e(34792),K=e(48086),b=e(71194),j=e(50146),N=e(2824),f=e(94043),r=e.n(f),E=e(68489),t=e(57119),p=e(49101),T=e(70844),n=e(16894),Z=e(93279),x=e(77613),v=e(67294),h=e(11849),_=e(64317),L=e(95395),O=e(99653),R=e(97445),B=e(63198),I=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],s=v.forwardRef(function(i,U){var $=i.fieldProps,m=i.unCheckedChildren,P=i.checkedChildren,y=i.proFieldProps,w=(0,R.Z)(i,I);return v.createElement(B.Z,(0,L.Z)({valueType:"switch",mode:"edit",fieldProps:(0,O.Z)({unCheckedChildren:m,checkedChildren:P},$),ref:U,valuePropName:"checked",proFieldProps:y,filedConfig:{valuePropName:"checked",ignoreWidth:!0}},w))}),A=s,V=e(15196),z=e(71975),G=e(5966),o=e(85893),H=(0,x.P)(function(i){var U=i.onOk,$=i.onClose,m=i.position,P=i.readonly,y=(0,v.useRef)(),w=!!(m!=null&&m.id),S=(0,E.m2)();return(0,o.jsxs)(z.Z,{title:w?m!=null&&m.id?"\u4FEE\u6539\u5C97\u4F4D":"\u65B0\u589E\u5C97\u4F4D":"\u67E5\u770B\u5C97\u4F4D",formRef:y,visible:!0,initialValues:m,submitter:{submitButtonProps:{style:{display:P?"none":"block"}}},drawerProps:{forceRender:!0,destroyOnClose:!0,onClose:function(){$()}},onFinish:function(){var u=(0,d.Z)(r().mark(function M(g){var D;return r().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,S.saveOrUpdatePosition((0,h.Z)((0,h.Z)({},m),g));case 2:D=W.sent,D.success&&U();case 4:case"end":return W.stop()}},M)}));return function(M){return u.apply(this,arguments)}}(),children:[(0,o.jsxs)(V.ZP.Group,{children:[(0,o.jsx)(G.Z,{name:"name",width:"md",label:"\u5C97\u4F4D\u540D\u79F0",placeholder:"\u8BF7\u8F93\u5165\u5C97\u4F4D\u540D\u79F0",readonly:P,required:!0,rules:[{required:!0,message:"\u5C97\u4F4D\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A"}]}),(0,o.jsx)(G.Z,{width:"md",readonly:P,name:"code",label:"\u5C97\u4F4D\u7F16\u7801",placeholder:"\u8BF7\u8F93\u5165\u5C97\u4F4D\u7F16\u7801",rules:[{required:!0,message:"\u5C97\u4F4D\u7F16\u7801\u4E0D\u80FD\u4E3A\u7A7A"}],required:!0})]}),(0,o.jsxs)(V.ZP.Group,{children:[(0,o.jsx)(_.Z,{width:"md",readonly:P,request:(0,d.Z)(r().mark(function u(){return r().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",[{label:"\u672C\u4EBA",value:"SELF"},{label:"\u672C\u4EBA\u53CA\u4E0B\u5C5E",value:"SELF_AND_SUB"},{label:"\u672C\u90E8\u95E8",value:"DEPT"},{label:"\u672C\u90E8\u95E8\u53CA\u4E0B\u5C5E\u90E8\u95E8",value:"DEPT_AND_SUB"},{label:"\u5168\u90E8",value:"ALL"}]);case 1:case"end":return g.stop()}},u)})),name:"dataPermissionType",label:"\u6570\u636E\u6743\u9650"}),(0,o.jsx)(A,{name:"isVirtual",label:"\u662F\u5426\u865A\u62DF\u5C97",readonly:P})]})]})}),Q=(0,x.P)(function(){var i=(0,E.m2)(),U=(0,v.useRef)(),$=(0,v.useState)(),m=(0,N.Z)($,2),P=m[0],y=m[1];(0,v.useEffect)(function(){i.loadPermissions()},[i]);var w=[{dataIndex:"index",valueType:"indexBorder",width:48},{title:"\u540D\u79F0",dataIndex:"name",ellipsis:!0},{title:"\u7F16\u7801",dataIndex:"code",hideInSearch:!0},{title:"\u662F\u5426\u865A\u62DF\u5C97",dataIndex:"isVirtual",search:!1,render:function(u){return u?"\u662F":"\u5426"}},{title:"\u6570\u636E\u6743\u9650",dataIndex:"dataPermissionType",valueEnum:{SELF:"\u672C\u4EBA",SELF_AND_SUB:"\u672C\u4EBA\u53CA\u4E0B\u5C5E",DEPT:"\u672C\u90E8\u95E8",DEPT_AND_SUB:"\u672C\u90E8\u95E8\u53CA\u4E0B\u5C5E\u90E8\u95E8",ALL:"\u5168\u90E8"},hideInSearch:!0},{title:"\u64CD\u4F5C",valueType:"option",render:function(u,M){return[(0,o.jsx)("a",{onClick:function(){y({visible:!0,current:M,readonly:!0})},children:"\u8BE6\u60C5"},"readonly"),(0,o.jsx)(Z.Z,{onSelect:function(D){D==="edit"&&y({current:M,visible:!0}),D==="delete"&&j.Z.confirm({title:"\u5220\u9664",content:"\u786E\u5B9A\u5220\u9664\u5F53\u524D\u5C97\u4F4D?",icon:(0,o.jsx)(t.Z,{}),onOk:function(){i.deletePosition(M.id).then(function(W){if(W.success){var J;K.default.success("\u5220\u9664\u6210\u529F"),(J=U.current)===null||J===void 0||J.reload()}})}})},menus:[{key:"edit",name:"\u7F16\u8F91"},{key:"delete",name:"\u5220\u9664"}]},"actionGroup")]}}];return(0,o.jsxs)(T.ZP,{title:!1,children:[(0,o.jsx)(n.ZP,{columns:w,actionRef:U,dataSource:i.positions,request:function(){var S=(0,d.Z)(r().mark(function u(M){return r().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.abrupt("return",i.loadPositions(M));case 1:case"end":return D.stop()}},u)}));return function(u){return S.apply(this,arguments)}}(),columnsState:{persistenceKey:"pro-table-singe-demos",persistenceType:"localStorage"},rowKey:"id",search:{labelWidth:"auto"},pagination:{pageSize:5},dateFormatter:"string",headerTitle:"\u5C97\u4F4D\u5217\u8868",toolBarRender:function(){return[(0,o.jsx)(l.Z,{icon:(0,o.jsx)(p.Z,{}),type:"primary",onClick:function(){y({visible:!0})},children:"\u65B0\u5EFA"},"button")]}}),(P==null?void 0:P.visible)&&(0,o.jsx)(H,{onClose:function(){y(void 0)},readonly:P.readonly,onOk:function(){var u;y(void 0),(u=U.current)===null||u===void 0||u.reload()},position:P.current})]})}),X=Q},15746:function(F,c,e){"use strict";var a=e(21584);c.Z=a.Z},89032:function(F,c,e){"use strict";var a=e(38663),l=e.n(a),d=e(6999)},27049:function(F,c,e){"use strict";var a=e(22122),l=e(96156),d=e(67294),C=e(94184),K=e.n(C),b=e(65632),j=function(f,r){var E={};for(var t in f)Object.prototype.hasOwnProperty.call(f,t)&&r.indexOf(t)<0&&(E[t]=f[t]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var p=0,t=Object.getOwnPropertySymbols(f);p<t.length;p++)r.indexOf(t[p])<0&&Object.prototype.propertyIsEnumerable.call(f,t[p])&&(E[t[p]]=f[t[p]]);return E},N=function(r){return d.createElement(b.C,null,function(E){var t,p=E.getPrefixCls,T=E.direction,n=r.prefixCls,Z=r.type,x=Z===void 0?"horizontal":Z,v=r.orientation,h=v===void 0?"center":v,_=r.orientationMargin,L=r.className,O=r.children,R=r.dashed,B=r.plain,I=j(r,["prefixCls","type","orientation","orientationMargin","className","children","dashed","plain"]),s=p("divider",n),A=h.length>0?"-".concat(h):h,V=!!O,z=h==="left"&&_!=null,G=h==="right"&&_!=null,o=K()(s,"".concat(s,"-").concat(x),(t={},(0,l.Z)(t,"".concat(s,"-with-text"),V),(0,l.Z)(t,"".concat(s,"-with-text").concat(A),V),(0,l.Z)(t,"".concat(s,"-dashed"),!!R),(0,l.Z)(t,"".concat(s,"-plain"),!!B),(0,l.Z)(t,"".concat(s,"-rtl"),T==="rtl"),(0,l.Z)(t,"".concat(s,"-no-default-orientation-margin-left"),z),(0,l.Z)(t,"".concat(s,"-no-default-orientation-margin-right"),G),t),L),H=(0,a.Z)((0,a.Z)({},z&&{marginLeft:_}),G&&{marginRight:_});return d.createElement("div",(0,a.Z)({className:o},I,{role:"separator"}),O&&d.createElement("span",{className:"".concat(s,"-inner-text"),style:H},O))})};c.Z=N},48736:function(F,c,e){"use strict";var a=e(38663),l=e.n(a),d=e(68179),C=e.n(d)},71230:function(F,c,e){"use strict";var a=e(92820);c.Z=a.Z},13062:function(F,c,e){"use strict";var a=e(38663),l=e.n(a),d=e(6999)}}]);
