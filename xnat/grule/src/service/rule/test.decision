// 唯一
决策id = 'decision1'
决策名 = 'decision1'
决策描述 = '测试决策1'

返回属性 '身份证号码'
返回属性 '年龄'


操作 { // 策略执行前操作执行

}

策略 {
    策略名 = 'P_测试策略1'
    条件 { // 执行此策略的条件, false: 不执行, true/不配置默认 执行此策略
        // age > 20 && age < 50
        true
    }

    操作 { // 策略规则执行前操作执行

    }

    // 空属性: 数据获取错误, 数据本身是空(其它指标)

    规则 {
        // 关闭()
        规则名 = 'R_参数验证'

        拒绝 {
            年龄 == null || 身份证号码 == null || 姓名 == null || 年龄 > 50 || 性别 == 'M'
        }
    }

    规则 {
        // 关闭()
        规则名 = '通过规则'

        操作 { // 顺序执行操作
            指标1 = 20
        }

        通过 {
            身份证号码 != null
        }

        操作 { // 顺序执行操作
            指标1 = 21
        }
    }

    规则 {
        规则名 = '操作规则'

        操作 { // 顺序执行操作
            指标1 = 20
        }

        通过 {
            身份证号码 != null
        }

        操作 { // 顺序执行操作
            // 四则运算
            测试字段 = 2 * 年龄
        }

        操作 { // 顺序执行操作
            // 逻辑判断
            if (年龄 > 30) {
                测试字段 -= 5
            }
        }
    }

    规则 {
        规则名 = '列表规则'

        禁入区域 = [
            '澳门特别行政区', '香港特别行政区', '新疆维吾尔自治区', '西藏自治区',
            '内蒙古自治区', '宁夏回族自治区', '未知', '澳门', '台湾'
        ]

        拒绝 {
            工作地所在省 in 禁入区域 || 居住地所在省 in 禁入区域
        }
    }

    规则 {
        规则名 = '包含规则'

        拒绝 {
            "$姓名".contains 'xx'
        }
    }
}


策略 {
    策略名 = 'P_测试策略2'

    规则 {
        规则名 = '通过规则'

        通过 {true}
    }

    规则 {
        关闭()
        规则名 = '拒绝规则'

        拒绝 {true}
    }
}